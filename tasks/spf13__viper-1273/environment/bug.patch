diff --git a/.github/workflows/ci.yml b/.github/workflows/ci.yml
index 3b59d89..263b9eb 100644
--- a/.github/workflows/ci.yml
+++ b/.github/workflows/ci.yml
@@ -17,7 +17,6 @@ jobs:
       matrix:
         os: [ubuntu-latest, macos-latest, windows-latest]
         go: ['1.14', '1.15', '1.16', '1.17']
-        tags: ['', 'viper_yaml3']
     env:
       GOFLAGS: -mod=readonly
 
@@ -31,11 +30,11 @@ jobs:
         uses: actions/checkout@v2
 
       - name: Test
-        run: go test -race -tags '${{ matrix.tags }}' -v ./...
+        run: go test -race -v ./...
         if: runner.os != 'Windows'
 
       - name: Test (without race detector)
-        run: go test -tags '${{ matrix.tags }}' -v ./...
+        run: go test -v ./...
         if: runner.os == 'Windows'
 
   lint:
diff --git a/go.mod b/go.mod
index 608a0a6..f5b2cb6 100644
--- a/go.mod
+++ b/go.mod
@@ -17,7 +17,6 @@ require (
 	github.com/subosito/gotenv v1.2.0
 	gopkg.in/ini.v1 v1.66.2
 	gopkg.in/yaml.v2 v2.4.0
-	gopkg.in/yaml.v3 v3.0.0-20210107192922-496545a6307b
 )
 
 require (
@@ -66,4 +65,5 @@ require (
 	google.golang.org/genproto v0.0.0-20211208223120-3a66f561d7aa // indirect
 	google.golang.org/grpc v1.43.0 // indirect
 	google.golang.org/protobuf v1.27.1 // indirect
+	gopkg.in/yaml.v3 v3.0.0-20210107192922-496545a6307b // indirect
 )
diff --git a/internal/encoding/yaml/codec.go b/internal/encoding/yaml/codec.go
index 24cc19d..5fa4b39 100644
--- a/internal/encoding/yaml/codec.go
+++ b/internal/encoding/yaml/codec.go
@@ -1,6 +1,6 @@
 package yaml
 
-// import "gopkg.in/yaml.v2"
+import "gopkg.in/yaml.v2"
 
 // Codec implements the encoding.Encoder and encoding.Decoder interfaces for YAML encoding.
 type Codec struct{}
diff --git a/internal/encoding/yaml/codec_test.go b/internal/encoding/yaml/codec_test.go
index d24a013..d76a6c6 100644
--- a/internal/encoding/yaml/codec_test.go
+++ b/internal/encoding/yaml/codec_test.go
@@ -5,6 +5,93 @@ import (
 	"testing"
 )
 
+// original form of the data
+const original = `# key-value pair
+key: value
+list:
+- item1
+- item2
+- item3
+map:
+  key: value
+
+# nested
+# map
+nested_map:
+  map:
+    key: value
+    list:
+    - item1
+    - item2
+    - item3
+`
+
+// encoded form of the data
+const encoded = `key: value
+list:
+- item1
+- item2
+- item3
+map:
+  key: value
+nested_map:
+  map:
+    key: value
+    list:
+    - item1
+    - item2
+    - item3
+`
+
+// decoded form of the data
+//
+// in case of YAML it's slightly different from Viper's internal representation
+// (eg. map is decoded into a map with interface key)
+var decoded = map[string]interface{}{
+	"key": "value",
+	"list": []interface{}{
+		"item1",
+		"item2",
+		"item3",
+	},
+	"map": map[interface{}]interface{}{
+		"key": "value",
+	},
+	"nested_map": map[interface{}]interface{}{
+		"map": map[interface{}]interface{}{
+			"key": "value",
+			"list": []interface{}{
+				"item1",
+				"item2",
+				"item3",
+			},
+		},
+	},
+}
+
+// Viper's internal representation
+var data = map[string]interface{}{
+	"key": "value",
+	"list": []interface{}{
+		"item1",
+		"item2",
+		"item3",
+	},
+	"map": map[string]interface{}{
+		"key": "value",
+	},
+	"nested_map": map[string]interface{}{
+		"map": map[string]interface{}{
+			"key": "value",
+			"list": []interface{}{
+				"item1",
+				"item2",
+				"item3",
+			},
+		},
+	},
+}
+
 func TestCodec_Encode(t *testing.T) {
 	codec := Codec{}
 
diff --git a/internal/encoding/yaml/yaml2.go b/internal/encoding/yaml/yaml2.go
deleted file mode 100644
index ca29b84..0000000
--- a/internal/encoding/yaml/yaml2.go
+++ /dev/null
@@ -1,14 +0,0 @@
-//go:build !viper_yaml3
-// +build !viper_yaml3
-
-package yaml
-
-import yamlv2 "gopkg.in/yaml.v2"
-
-var yaml = struct {
-	Marshal   func(in interface{}) (out []byte, err error)
-	Unmarshal func(in []byte, out interface{}) (err error)
-}{
-	Marshal:   yamlv2.Marshal,
-	Unmarshal: yamlv2.Unmarshal,
-}
diff --git a/internal/encoding/yaml/yaml2_test.go b/internal/encoding/yaml/yaml2_test.go
deleted file mode 100644
index e39d429..0000000
--- a/internal/encoding/yaml/yaml2_test.go
+++ /dev/null
@@ -1,91 +0,0 @@
-//go:build !viper_yaml3
-// +build !viper_yaml3
-
-package yaml
-
-// original form of the data
-const original = `# key-value pair
-key: value
-list:
-- item1
-- item2
-- item3
-map:
-  key: value
-
-# nested
-# map
-nested_map:
-  map:
-    key: value
-    list:
-    - item1
-    - item2
-    - item3
-`
-
-// encoded form of the data
-const encoded = `key: value
-list:
-- item1
-- item2
-- item3
-map:
-  key: value
-nested_map:
-  map:
-    key: value
-    list:
-    - item1
-    - item2
-    - item3
-`
-
-// decoded form of the data
-//
-// in case of YAML it's slightly different from Viper's internal representation
-// (eg. map is decoded into a map with interface key)
-var decoded = map[string]interface{}{
-	"key": "value",
-	"list": []interface{}{
-		"item1",
-		"item2",
-		"item3",
-	},
-	"map": map[interface{}]interface{}{
-		"key": "value",
-	},
-	"nested_map": map[interface{}]interface{}{
-		"map": map[interface{}]interface{}{
-			"key": "value",
-			"list": []interface{}{
-				"item1",
-				"item2",
-				"item3",
-			},
-		},
-	},
-}
-
-// Viper's internal representation
-var data = map[string]interface{}{
-	"key": "value",
-	"list": []interface{}{
-		"item1",
-		"item2",
-		"item3",
-	},
-	"map": map[string]interface{}{
-		"key": "value",
-	},
-	"nested_map": map[string]interface{}{
-		"map": map[string]interface{}{
-			"key": "value",
-			"list": []interface{}{
-				"item1",
-				"item2",
-				"item3",
-			},
-		},
-	},
-}
diff --git a/internal/encoding/yaml/yaml3.go b/internal/encoding/yaml/yaml3.go
deleted file mode 100644
index 96b8957..0000000
--- a/internal/encoding/yaml/yaml3.go
+++ /dev/null
@@ -1,14 +0,0 @@
-//go:build viper_yaml3
-// +build viper_yaml3
-
-package yaml
-
-import yamlv3 "gopkg.in/yaml.v3"
-
-var yaml = struct {
-	Marshal   func(in interface{}) (out []byte, err error)
-	Unmarshal func(in []byte, out interface{}) (err error)
-}{
-	Marshal:   yamlv3.Marshal,
-	Unmarshal: yamlv3.Unmarshal,
-}
diff --git a/internal/encoding/yaml/yaml3_test.go b/internal/encoding/yaml/yaml3_test.go
deleted file mode 100644
index 6beb263..0000000
--- a/internal/encoding/yaml/yaml3_test.go
+++ /dev/null
@@ -1,91 +0,0 @@
-//go:build viper_yaml3
-// +build viper_yaml3
-
-package yaml
-
-// original form of the data
-const original = `# key-value pair
-key: value
-list:
-    - item1
-    - item2
-    - item3
-map:
-    key: value
-
-# nested
-# map
-nested_map:
-    map:
-        key: value
-        list:
-            - item1
-            - item2
-            - item3
-`
-
-// encoded form of the data
-const encoded = `key: value
-list:
-    - item1
-    - item2
-    - item3
-map:
-    key: value
-nested_map:
-    map:
-        key: value
-        list:
-            - item1
-            - item2
-            - item3
-`
-
-// decoded form of the data
-//
-// in case of YAML it's slightly different from Viper's internal representation
-// (eg. map is decoded into a map with interface key)
-var decoded = map[string]interface{}{
-	"key": "value",
-	"list": []interface{}{
-		"item1",
-		"item2",
-		"item3",
-	},
-	"map": map[string]interface{}{
-		"key": "value",
-	},
-	"nested_map": map[string]interface{}{
-		"map": map[string]interface{}{
-			"key": "value",
-			"list": []interface{}{
-				"item1",
-				"item2",
-				"item3",
-			},
-		},
-	},
-}
-
-// Viper's internal representation
-var data = map[string]interface{}{
-	"key": "value",
-	"list": []interface{}{
-		"item1",
-		"item2",
-		"item3",
-	},
-	"map": map[string]interface{}{
-		"key": "value",
-	},
-	"nested_map": map[string]interface{}{
-		"map": map[string]interface{}{
-			"key": "value",
-			"list": []interface{}{
-				"item1",
-				"item2",
-				"item3",
-			},
-		},
-	},
-}
diff --git a/viper_test.go b/viper_test.go
index d0724c7..8c864f1 100644
--- a/viper_test.go
+++ b/viper_test.go
@@ -33,21 +33,21 @@ import (
 	"github.com/spf13/viper/internal/testutil"
 )
 
-// var yamlExample = []byte(`Hacker: true
-// name: steve
-// hobbies:
-//     - skateboarding
-//     - snowboarding
-//     - go
-// clothing:
-//     jacket: leather
-//     trousers: denim
-//     pants:
-//         size: large
-// age: 35
-// eyes : brown
-// beard: true
-// `)
+var yamlExample = []byte(`Hacker: true
+name: steve
+hobbies:
+- skateboarding
+- snowboarding
+- go
+clothing:
+  jacket: leather
+  trousers: denim
+  pants:
+    size: large
+age: 35
+eyes : brown
+beard: true
+`)
 
 var yamlExampleWithExtras = []byte(`Existing: true
 Bogus: true
@@ -1558,21 +1558,21 @@ p_ppu = 0.55
 p_batters.batter.type = Regular
 `)
 
-// var yamlWriteExpected = []byte(`age: 35
-// beard: true
-// clothing:
-//     jacket: leather
-//     pants:
-//         size: large
-//     trousers: denim
-// eyes: brown
-// hacker: true
-// hobbies:
-//     - skateboarding
-//     - snowboarding
-//     - go
-// name: steve
-// `)
+var yamlWriteExpected = []byte(`age: 35
+beard: true
+clothing:
+  jacket: leather
+  pants:
+    size: large
+  trousers: denim
+eyes: brown
+hacker: true
+hobbies:
+- skateboarding
+- snowboarding
+- go
+name: steve
+`)
 
 func TestWriteConfig(t *testing.T) {
 	fs := afero.NewMemMapFs()
@@ -2410,25 +2410,25 @@ func TestUnmarshal_DotSeparatorBackwardCompatibility(t *testing.T) {
 	assert.Equal(t, "cobra_flag", config.Foo.Bar)
 }
 
-// var yamlExampleWithDot = []byte(`Hacker: true
-// name: steve
-// hobbies:
-//     - skateboarding
-//     - snowboarding
-//     - go
-// clothing:
-//     jacket: leather
-//     trousers: denim
-//     pants:
-//         size: large
-// age: 35
-// eyes : brown
-// beard: true
-// emails:
-//     steve@hacker.com:
-//         created: 01/02/03
-//         active: true
-// `)
+var yamlExampleWithDot = []byte(`Hacker: true
+name: steve
+hobbies:
+  - skateboarding
+  - snowboarding
+  - go
+clothing:
+  jacket: leather
+  trousers: denim
+  pants:
+    size: large
+age: 35
+eyes : brown
+beard: true
+emails:
+  steve@hacker.com:
+    created: 01/02/03
+    active: true
+`)
 
 func TestKeyDelimiter(t *testing.T) {
 	v := NewWithOptions(KeyDelimiter("::"))
diff --git a/viper_yaml2_test.go b/viper_yaml2_test.go
deleted file mode 100644
index 5a8a51e..0000000
--- a/viper_yaml2_test.go
+++ /dev/null
@@ -1,56 +0,0 @@
-//go:build !viper_yaml3
-// +build !viper_yaml3
-
-package viper
-
-var yamlExample = []byte(`Hacker: true
-name: steve
-hobbies:
-- skateboarding
-- snowboarding
-- go
-clothing:
-  jacket: leather
-  trousers: denim
-  pants:
-    size: large
-age: 35
-eyes : brown
-beard: true
-`)
-
-var yamlWriteExpected = []byte(`age: 35
-beard: true
-clothing:
-  jacket: leather
-  pants:
-    size: large
-  trousers: denim
-eyes: brown
-hacker: true
-hobbies:
-- skateboarding
-- snowboarding
-- go
-name: steve
-`)
-
-var yamlExampleWithDot = []byte(`Hacker: true
-name: steve
-hobbies:
-- skateboarding
-- snowboarding
-- go
-clothing:
-  jacket: leather
-  trousers: denim
-  pants:
-    size: large
-age: 35
-eyes : brown
-beard: true
-emails:
-  steve@hacker.com:
-    created: 01/02/03
-    active: true
-`)
diff --git a/viper_yaml3_test.go b/viper_yaml3_test.go
deleted file mode 100644
index c397865..0000000
--- a/viper_yaml3_test.go
+++ /dev/null
@@ -1,56 +0,0 @@
-//go:build viper_yaml3
-// +build viper_yaml3
-
-package viper
-
-var yamlExample = []byte(`Hacker: true
-name: steve
-hobbies:
-    - skateboarding
-    - snowboarding
-    - go
-clothing:
-    jacket: leather
-    trousers: denim
-    pants:
-        size: large
-age: 35
-eyes : brown
-beard: true
-`)
-
-var yamlWriteExpected = []byte(`age: 35
-beard: true
-clothing:
-    jacket: leather
-    pants:
-        size: large
-    trousers: denim
-eyes: brown
-hacker: true
-hobbies:
-    - skateboarding
-    - snowboarding
-    - go
-name: steve
-`)
-
-var yamlExampleWithDot = []byte(`Hacker: true
-name: steve
-hobbies:
-    - skateboarding
-    - snowboarding
-    - go
-clothing:
-    jacket: leather
-    trousers: denim
-    pants:
-        size: large
-age: 35
-eyes : brown
-beard: true
-emails:
-    steve@hacker.com:
-        created: 01/02/03
-        active: true
-`)
