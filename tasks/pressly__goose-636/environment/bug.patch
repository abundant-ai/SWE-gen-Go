diff --git a/dialect.go b/dialect.go
index 7f4b669..9cbeeb9 100644
--- a/dialect.go
+++ b/dialect.go
@@ -3,23 +3,21 @@ package goose
 import (
 	"fmt"
 
-	"github.com/pressly/goose/v3/database"
 	"github.com/pressly/goose/v3/internal/dialect"
 )
 
-// Dialect is the type of database dialect. It is an alias for [database.Dialect].
-type Dialect = database.Dialect
+// Dialect is the type of database dialect.
+type Dialect string
 
 const (
-	DialectClickHouse Dialect = database.DialectClickHouse
-	DialectMSSQL      Dialect = database.DialectMSSQL
-	DialectMySQL      Dialect = database.DialectMySQL
-	DialectPostgres   Dialect = database.DialectPostgres
-	DialectRedshift   Dialect = database.DialectRedshift
-	DialectSQLite3    Dialect = database.DialectSQLite3
-	DialectTiDB       Dialect = database.DialectTiDB
-	DialectVertica    Dialect = database.DialectVertica
-	DialectYdB        Dialect = database.DialectYdB
+	DialectClickHouse Dialect = "clickhouse"
+	DialectMSSQL      Dialect = "mssql"
+	DialectMySQL      Dialect = "mysql"
+	DialectPostgres   Dialect = "postgres"
+	DialectRedshift   Dialect = "redshift"
+	DialectSQLite3    Dialect = "sqlite3"
+	DialectTiDB       Dialect = "tidb"
+	DialectVertica    Dialect = "vertica"
 )
 
 func init() {
diff --git a/migration.go b/migration.go
index 378e626..d732504 100644
--- a/migration.go
+++ b/migration.go
@@ -37,11 +37,6 @@ func NewGoMigration(version int64, up, down *GoFunc) *Migration {
 			if f.RunTx == nil && f.RunDB != nil {
 				f.Mode = TransactionDisabled
 			}
-			// Always default to TransactionEnabled if both functions are nil. This is the most
-			// common use case.
-			if f.RunDB == nil && f.RunTx == nil {
-				f.Mode = TransactionEnabled
-			}
 		}
 		return f
 	}
diff --git a/provider.go b/provider.go
index 4be894d..d36b00e 100644
--- a/provider.go
+++ b/provider.go
@@ -51,7 +51,7 @@ type Provider struct {
 // Unless otherwise specified, all methods on Provider are safe for concurrent use.
 //
 // Experimental: This API is experimental and may change in the future.
-func NewProvider(dialect Dialect, db *sql.DB, fsys fs.FS, opts ...ProviderOption) (*Provider, error) {
+func NewProvider(dialect database.Dialect, db *sql.DB, fsys fs.FS, opts ...ProviderOption) (*Provider, error) {
 	if db == nil {
 		return nil, errors.New("db must not be nil")
 	}
diff --git a/provider_options_test.go b/provider_options_test.go
index b9bff8b..a5df0fa 100644
--- a/provider_options_test.go
+++ b/provider_options_test.go
@@ -30,18 +30,18 @@ func TestNewProvider(t *testing.T) {
 		_, err = goose.NewProvider("unknown-dialect", db, fsys)
 		check.HasError(t, err)
 		// Nil db not allowed
-		_, err = goose.NewProvider(goose.DialectSQLite3, nil, fsys)
+		_, err = goose.NewProvider(database.DialectSQLite3, nil, fsys)
 		check.HasError(t, err)
 		// Nil store not allowed
-		_, err = goose.NewProvider(goose.DialectSQLite3, db, nil, goose.WithStore(nil))
+		_, err = goose.NewProvider(database.DialectSQLite3, db, nil, goose.WithStore(nil))
 		check.HasError(t, err)
 		// Cannot set both dialect and store
-		store, err := database.NewStore(goose.DialectSQLite3, "custom_table")
+		store, err := database.NewStore(database.DialectSQLite3, "custom_table")
 		check.NoError(t, err)
-		_, err = goose.NewProvider(goose.DialectSQLite3, db, nil, goose.WithStore(store))
+		_, err = goose.NewProvider(database.DialectSQLite3, db, nil, goose.WithStore(store))
 		check.HasError(t, err)
 		// Multiple stores not allowed
-		_, err = goose.NewProvider(goose.DialectSQLite3, db, nil,
+		_, err = goose.NewProvider(database.DialectSQLite3, db, nil,
 			goose.WithStore(store),
 			goose.WithStore(store),
 		)
@@ -49,15 +49,15 @@ func TestNewProvider(t *testing.T) {
 	})
 	t.Run("valid", func(t *testing.T) {
 		// Valid dialect, db, and fsys allowed
-		_, err = goose.NewProvider(goose.DialectSQLite3, db, fsys)
+		_, err = goose.NewProvider(database.DialectSQLite3, db, fsys)
 		check.NoError(t, err)
 		// Valid dialect, db, fsys, and verbose allowed
-		_, err = goose.NewProvider(goose.DialectSQLite3, db, fsys,
+		_, err = goose.NewProvider(database.DialectSQLite3, db, fsys,
 			goose.WithVerbose(testing.Verbose()),
 		)
 		check.NoError(t, err)
 		// Custom store allowed
-		store, err := database.NewStore(goose.DialectSQLite3, "custom_table")
+		store, err := database.NewStore(database.DialectSQLite3, "custom_table")
 		check.NoError(t, err)
 		_, err = goose.NewProvider("", db, nil, goose.WithStore(store))
 		check.HasError(t, err)
diff --git a/provider_run_test.go b/provider_run_test.go
index 5ce5591..6e00ce9 100644
--- a/provider_run_test.go
+++ b/provider_run_test.go
@@ -17,6 +17,7 @@ import (
 	"testing/fstest"
 
 	"github.com/pressly/goose/v3"
+	"github.com/pressly/goose/v3/database"
 	"github.com/pressly/goose/v3/internal/check"
 	"github.com/pressly/goose/v3/internal/testdb"
 	"github.com/pressly/goose/v3/lock"
@@ -320,7 +321,7 @@ INSERT INTO owners (owner_name) VALUES ('seed-user-2');
 INSERT INTO owners (owner_name) VALUES ('seed-user-3');
 `),
 		}
-		p, err := goose.NewProvider(goose.DialectSQLite3, db, mapFS)
+		p, err := goose.NewProvider(database.DialectSQLite3, db, mapFS)
 		check.NoError(t, err)
 		_, err = p.Up(ctx)
 		check.HasError(t, err)
@@ -485,7 +486,7 @@ func TestNoVersioning(t *testing.T) {
 		// These are owners created by migration files.
 		wantOwnerCount = 4
 	)
-	p, err := goose.NewProvider(goose.DialectSQLite3, db, fsys,
+	p, err := goose.NewProvider(database.DialectSQLite3, db, fsys,
 		goose.WithVerbose(testing.Verbose()),
 		goose.WithDisableVersioning(false), // This is the default.
 	)
@@ -498,7 +499,7 @@ func TestNoVersioning(t *testing.T) {
 	check.Number(t, baseVersion, 3)
 	t.Run("seed-up-down-to-zero", func(t *testing.T) {
 		fsys := os.DirFS(filepath.Join("testdata", "no-versioning", "seed"))
-		p, err := goose.NewProvider(goose.DialectSQLite3, db, fsys,
+		p, err := goose.NewProvider(database.DialectSQLite3, db, fsys,
 			goose.WithVerbose(testing.Verbose()),
 			goose.WithDisableVersioning(true), // Provider with no versioning.
 		)
@@ -551,7 +552,7 @@ func TestAllowMissing(t *testing.T) {
 
 	t.Run("missing_now_allowed", func(t *testing.T) {
 		db := newDB(t)
-		p, err := goose.NewProvider(goose.DialectSQLite3, db, newFsys(),
+		p, err := goose.NewProvider(database.DialectSQLite3, db, newFsys(),
 			goose.WithAllowOutofOrder(false),
 		)
 		check.NoError(t, err)
@@ -606,7 +607,7 @@ func TestAllowMissing(t *testing.T) {
 
 	t.Run("missing_allowed", func(t *testing.T) {
 		db := newDB(t)
-		p, err := goose.NewProvider(goose.DialectSQLite3, db, newFsys(),
+		p, err := goose.NewProvider(database.DialectSQLite3, db, newFsys(),
 			goose.WithAllowOutofOrder(true),
 		)
 		check.NoError(t, err)
@@ -722,7 +723,7 @@ func TestGoOnly(t *testing.T) {
 				&goose.GoFunc{RunTx: newTxFn("DELETE FROM users")},
 			),
 		}
-		p, err := goose.NewProvider(goose.DialectSQLite3, db, nil,
+		p, err := goose.NewProvider(database.DialectSQLite3, db, nil,
 			goose.WithGoMigrations(register...),
 		)
 		check.NoError(t, err)
@@ -778,7 +779,7 @@ func TestGoOnly(t *testing.T) {
 				&goose.GoFunc{RunDB: newDBFn("DELETE FROM users")},
 			),
 		}
-		p, err := goose.NewProvider(goose.DialectSQLite3, db, nil,
+		p, err := goose.NewProvider(database.DialectSQLite3, db, nil,
 			goose.WithGoMigrations(register...),
 		)
 		check.NoError(t, err)
@@ -835,7 +836,7 @@ func TestLockModeAdvisorySession(t *testing.T) {
 		)
 		check.NoError(t, err)
 		p, err := goose.NewProvider(
-			goose.DialectPostgres,
+			database.DialectPostgres,
 			db,
 			os.DirFS("testdata/migrations"),
 			goose.WithSessionLocker(sessionLocker), // Use advisory session lock mode.
@@ -1092,7 +1093,7 @@ func newProviderWithDB(t *testing.T, opts ...goose.ProviderOption) (*goose.Provi
 		opts,
 		goose.WithVerbose(testing.Verbose()),
 	)
-	p, err := goose.NewProvider(goose.DialectSQLite3, db, newFsys(), opts...)
+	p, err := goose.NewProvider(database.DialectSQLite3, db, newFsys(), opts...)
 	check.NoError(t, err)
 	return p, db
 }
diff --git a/provider_test.go b/provider_test.go
index 1b201b4..c1e84b1 100644
--- a/provider_test.go
+++ b/provider_test.go
@@ -9,6 +9,7 @@ import (
 	"testing/fstest"
 
 	"github.com/pressly/goose/v3"
+	"github.com/pressly/goose/v3/database"
 	"github.com/pressly/goose/v3/internal/check"
 	_ "modernc.org/sqlite"
 )
@@ -18,7 +19,7 @@ func TestProvider(t *testing.T) {
 	db, err := sql.Open("sqlite", filepath.Join(dir, "sql_embed.db"))
 	check.NoError(t, err)
 	t.Run("empty", func(t *testing.T) {
-		_, err := goose.NewProvider(goose.DialectSQLite3, db, fstest.MapFS{})
+		_, err := goose.NewProvider(database.DialectSQLite3, db, fstest.MapFS{})
 		check.HasError(t, err)
 		check.Bool(t, errors.Is(err, goose.ErrNoMigrations), true)
 	})
@@ -29,7 +30,7 @@ func TestProvider(t *testing.T) {
 	}
 	fsys, err := fs.Sub(mapFS, "migrations")
 	check.NoError(t, err)
-	p, err := goose.NewProvider(goose.DialectSQLite3, db, fsys)
+	p, err := goose.NewProvider(database.DialectSQLite3, db, fsys)
 	check.NoError(t, err)
 	sources := p.ListSources()
 	check.Equal(t, len(sources), 2)
