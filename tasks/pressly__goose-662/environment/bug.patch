diff --git a/cmd/goose/main.go b/cmd/goose/main.go
index c842171..0b6f807 100644
--- a/cmd/goose/main.go
+++ b/cmd/goose/main.go
@@ -19,6 +19,7 @@ import (
 	"github.com/pressly/goose/v3"
 	"github.com/pressly/goose/v3/internal/cfg"
 	"github.com/pressly/goose/v3/internal/migrationstats"
+	"github.com/pressly/goose/v3/internal/migrationstats/migrationstatsos"
 )
 
 var (
@@ -319,10 +320,8 @@ func printValidate(filename string, verbose bool) error {
 	if err != nil {
 		return err
 	}
-	stats, err := migrationstats.GatherStats(
-		migrationstats.NewFileWalker(filenames...),
-		false,
-	)
+	fileWalker := migrationstatsos.NewFileWalker(filenames...)
+	stats, err := migrationstats.GatherStats(fileWalker, false)
 	if err != nil {
 		return err
 	}
diff --git a/internal/migrationstats/migration_go.go b/internal/migrationstats/migration_go.go
index 3509c27..ad8d57d 100644
--- a/internal/migrationstats/migration_go.go
+++ b/internal/migrationstats/migration_go.go
@@ -7,14 +7,11 @@ import (
 	"go/parser"
 	"go/token"
 	"io"
-	"strings"
 )
 
 const (
-	registerGoFuncName            = "AddMigration"
-	registerGoFuncNameNoTx        = "AddMigrationNoTx"
-	registerGoFuncNameContext     = "AddMigrationContext"
-	registerGoFuncNameNoTxContext = "AddMigrationNoTxContext"
+	registerGoFuncName     = "AddMigration"
+	registerGoFuncNameNoTx = "AddMigrationNoTx"
 )
 
 type goMigration struct {
@@ -75,10 +72,10 @@ func parseInitFunc(fd *ast.FuncDecl) (*goMigration, error) {
 		funcName := sel.Sel.Name
 		b := false
 		switch funcName {
-		case registerGoFuncName, registerGoFuncNameContext:
+		case registerGoFuncName:
 			b = true
 			gf.useTx = &b
-		case registerGoFuncNameNoTx, registerGoFuncNameNoTxContext:
+		case registerGoFuncNameNoTx:
 			gf.useTx = &b
 		default:
 			continue
@@ -110,15 +107,11 @@ func parseInitFunc(fd *ast.FuncDecl) (*goMigration, error) {
 	}
 	// validation
 	switch gf.name {
-	case registerGoFuncName, registerGoFuncNameNoTx, registerGoFuncNameContext, registerGoFuncNameNoTxContext:
+	case registerGoFuncName, registerGoFuncNameNoTx:
 	default:
-		return nil, fmt.Errorf("goose register function must be one of: %s",
-			strings.Join([]string{
-				registerGoFuncName,
-				registerGoFuncNameNoTx,
-				registerGoFuncNameContext,
-				registerGoFuncNameNoTxContext,
-			}, ", "),
+		return nil, fmt.Errorf("goose register function must be one of: %s or %s",
+			registerGoFuncName,
+			registerGoFuncNameNoTx,
 		)
 	}
 	if gf.useTx == nil {
diff --git a/internal/migrationstats/migrationstats_test.go b/internal/migrationstats/migrationstats_test.go
index 0383072..26c49fd 100644
--- a/internal/migrationstats/migrationstats_test.go
+++ b/internal/migrationstats/migrationstats_test.go
@@ -1,8 +1,6 @@
 package migrationstats
 
 import (
-	"os"
-	"path/filepath"
 	"strings"
 	"testing"
 
@@ -40,47 +38,6 @@ func TestParsingGoMigrations(t *testing.T) {
 	}
 }
 
-func TestGoMigrationStats(t *testing.T) {
-	t.Parallel()
-
-	base := "../../tests/gomigrations/success/testdata"
-	all, err := os.ReadDir(base)
-	check.NoError(t, err)
-	check.Equal(t, len(all), 16)
-	files := make([]string, 0, len(all))
-	for _, f := range all {
-		files = append(files, filepath.Join(base, f.Name()))
-	}
-	stats, err := GatherStats(NewFileWalker(files...), false)
-	check.NoError(t, err)
-	check.Equal(t, len(stats), 16)
-	checkGoStats(t, stats[0], "001_up_down.go", 1, 1, 1, true)
-	checkGoStats(t, stats[1], "002_up_only.go", 2, 1, 0, true)
-	checkGoStats(t, stats[2], "003_down_only.go", 3, 0, 1, true)
-	checkGoStats(t, stats[3], "004_empty.go", 4, 0, 0, true)
-	checkGoStats(t, stats[4], "005_up_down_no_tx.go", 5, 1, 1, false)
-	checkGoStats(t, stats[5], "006_up_only_no_tx.go", 6, 1, 0, false)
-	checkGoStats(t, stats[6], "007_down_only_no_tx.go", 7, 0, 1, false)
-	checkGoStats(t, stats[7], "008_empty_no_tx.go", 8, 0, 0, false)
-	checkGoStats(t, stats[8], "009_up_down_ctx.go", 9, 1, 1, true)
-	checkGoStats(t, stats[9], "010_up_only_ctx.go", 10, 1, 0, true)
-	checkGoStats(t, stats[10], "011_down_only_ctx.go", 11, 0, 1, true)
-	checkGoStats(t, stats[11], "012_empty_ctx.go", 12, 0, 0, true)
-	checkGoStats(t, stats[12], "013_up_down_no_tx_ctx.go", 13, 1, 1, false)
-	checkGoStats(t, stats[13], "014_up_only_no_tx_ctx.go", 14, 1, 0, false)
-	checkGoStats(t, stats[14], "015_down_only_no_tx_ctx.go", 15, 0, 1, false)
-	checkGoStats(t, stats[15], "016_empty_no_tx_ctx.go", 16, 0, 0, false)
-}
-
-func checkGoStats(t *testing.T, stats *Stats, filename string, version int64, upCount, downCount int, tx bool) {
-	t.Helper()
-	check.Equal(t, filepath.Base(stats.FileName), filename)
-	check.Equal(t, stats.Version, version)
-	check.Equal(t, stats.UpCount, upCount)
-	check.Equal(t, stats.DownCount, downCount)
-	check.Equal(t, stats.Tx, tx)
-}
-
 func TestParsingGoMigrationsError(t *testing.T) {
 	t.Parallel()
 	_, err := parseGoFile(strings.NewReader(emptyInit))
@@ -89,7 +46,7 @@ func TestParsingGoMigrationsError(t *testing.T) {
 
 	_, err = parseGoFile(strings.NewReader(wrongName))
 	check.HasError(t, err)
-	check.Contains(t, err.Error(), "AddMigration, AddMigrationNoTx, AddMigrationContext, AddMigrationNoTxContext")
+	check.Contains(t, err.Error(), "AddMigration or AddMigrationNoTx")
 }
 
 var (
diff --git a/internal/migrationstats/migrationstats_walker.go b/internal/migrationstats/migrationstatsos/migrationstatsos.go
similarity index 78%
rename from internal/migrationstats/migrationstats_walker.go
rename to internal/migrationstats/migrationstatsos/migrationstatsos.go
index 4e224e6..ed86914 100644
--- a/internal/migrationstats/migrationstats_walker.go
+++ b/internal/migrationstats/migrationstatsos/migrationstatsos.go
@@ -1,15 +1,17 @@
-package migrationstats
+package migrationstatsos
 
 import (
 	"io"
 	"os"
 	"path/filepath"
+
+	"github.com/pressly/goose/v3/internal/migrationstats"
 )
 
 // NewFileWalker returns a new FileWalker for the given filenames.
 //
 // Filenames without a .sql or .go extension are ignored.
-func NewFileWalker(filenames ...string) FileWalker {
+func NewFileWalker(filenames ...string) migrationstats.FileWalker {
 	return &fileWalker{
 		filenames: filenames,
 	}
@@ -19,7 +21,7 @@ type fileWalker struct {
 	filenames []string
 }
 
-var _ FileWalker = (*fileWalker)(nil)
+var _ migrationstats.FileWalker = (*fileWalker)(nil)
 
 func (f *fileWalker) Walk(fn func(filename string, r io.Reader) error) error {
 	for _, filename := range f.filenames {
