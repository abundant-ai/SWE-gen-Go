diff --git a/common_dialect.go b/common_dialect.go
index 3b64686..5613f41 100644
--- a/common_dialect.go
+++ b/common_dialect.go
@@ -3,7 +3,6 @@ package gorm
 import (
 	"fmt"
 	"reflect"
-	"strings"
 	"time"
 )
 
@@ -69,24 +68,21 @@ func (commonDialect) Quote(key string) string {
 	return fmt.Sprintf(`"%s"`, key)
 }
 
-func (commonDialect) databaseName(scope *Scope) string {
-	from := strings.LastIndex(scope.db.parent.source, "/") + 1
-	to := strings.LastIndex(scope.db.parent.source, "?")
-	if to == -1 {
-		to = len(scope.db.parent.source)
-	}
-	return scope.db.parent.source[from:to]
-}
-
 func (c commonDialect) HasTable(scope *Scope, tableName string) bool {
-	var count int
-	scope.NewDB().Raw("SELECT count(*) FROM INFORMATION_SCHEMA.TABLES WHERE table_name = ? AND table_schema = ?", tableName, c.databaseName(scope)).Row().Scan(&count)
+	var (
+		count        int
+		databaseName = c.CurrentDatabase(scope)
+	)
+	scope.NewDB().Raw("SELECT count(*) FROM INFORMATION_SCHEMA.TABLES WHERE table_name = ? AND table_schema = ?", tableName, databaseName).Row().Scan(&count)
 	return count > 0
 }
 
 func (c commonDialect) HasColumn(scope *Scope, tableName string, columnName string) bool {
-	var count int
-	scope.NewDB().Raw("SELECT count(*) FROM INFORMATION_SCHEMA.COLUMNS WHERE table_schema = ? AND table_name = ? AND column_name = ?", c.databaseName(scope), tableName, columnName).Row().Scan(&count)
+	var (
+		count        int
+		databaseName = c.CurrentDatabase(scope)
+	)
+	scope.NewDB().Raw("SELECT count(*) FROM INFORMATION_SCHEMA.COLUMNS WHERE table_schema = ? AND table_name = ? AND column_name = ?", databaseName, tableName, columnName).Row().Scan(&count)
 	return count > 0
 }
 
@@ -99,3 +95,8 @@ func (commonDialect) HasIndex(scope *Scope, tableName string, indexName string)
 func (commonDialect) RemoveIndex(scope *Scope, indexName string) {
 	scope.NewDB().Exec(fmt.Sprintf("DROP INDEX %v ON %v", indexName, scope.QuotedTableName()))
 }
+
+func (commonDialect) CurrentDatabase(scope *Scope) (name string) {
+	scope.Err(scope.NewDB().Raw("SELECT DATABASE()").Row().Scan(&name))
+	return
+}
diff --git a/dialect.go b/dialect.go
index f322107..926f8a1 100644
--- a/dialect.go
+++ b/dialect.go
@@ -17,6 +17,7 @@ type Dialect interface {
 	HasColumn(scope *Scope, tableName string, columnName string) bool
 	HasIndex(scope *Scope, tableName string, indexName string) bool
 	RemoveIndex(scope *Scope, indexName string)
+	CurrentDatabase(scope *Scope) string
 }
 
 func NewDialect(driver string) Dialect {
diff --git a/foundation.go b/foundation.go
index a9c8f50..427f8d1 100644
--- a/foundation.go
+++ b/foundation.go
@@ -76,3 +76,8 @@ func (foundation) HasIndex(scope *Scope, tableName string, indexName string) boo
 	scope.NewDB().Raw("SELECT count(*) FROM INFORMATION_SCHEMA.indexes WHERE table_schema = current_schema AND table_name = ? AND index_name = ?", tableName, indexName).Row().Scan(&count)
 	return count > 0
 }
+
+func (foundation) CurrentDatabase(scope *Scope) (name string) {
+	scope.Err(scope.NewDB().Raw("SELECT CURRENT_SCHEMA").Row().Scan(&name))
+	return
+}
diff --git a/main.go b/main.go
index 3080220..56727e3 100644
--- a/main.go
+++ b/main.go
@@ -429,6 +429,14 @@ func (s *DB) RemoveIndex(indexName string) *DB {
 	return scope.db
 }
 
+func (s *DB) CurrentDatabase() string {
+	var (
+		scope = s.clone().NewScope(s.Value)
+		name  = s.dialect.CurrentDatabase(scope)
+	)
+	return name
+}
+
 /*
 Add foreign key to the given scope
 
diff --git a/mssql.go b/mssql.go
index c44541c..22b36ba 100644
--- a/mssql.go
+++ b/mssql.go
@@ -3,7 +3,6 @@ package gorm
 import (
 	"fmt"
 	"reflect"
-	"strings"
 	"time"
 )
 
@@ -51,26 +50,21 @@ func (mssql) SqlTag(value reflect.Value, size int, autoIncrease bool) string {
 	panic(fmt.Sprintf("invalid sql type %s (%s) for mssql", value.Type().Name(), value.Kind().String()))
 }
 
-func (mssql) databaseName(scope *Scope) string {
-	dbStr := strings.Split(scope.db.parent.source, ";")
-	for _, value := range dbStr {
-		s := strings.Split(value, "=")
-		if s[0] == "database" {
-			return s[1]
-		}
-	}
-	return ""
-}
-
 func (s mssql) HasTable(scope *Scope, tableName string) bool {
-	var count int
-	scope.NewDB().Raw("SELECT count(*) FROM INFORMATION_SCHEMA.tables WHERE table_name = ? AND table_catalog = ?", tableName, s.databaseName(scope)).Row().Scan(&count)
+	var (
+		count        int
+		databaseName = s.CurrentDatabase(scope)
+	)
+	scope.NewDB().Raw("SELECT count(*) FROM INFORMATION_SCHEMA.tables WHERE table_name = ? AND table_catalog = ?", tableName, databaseName).Row().Scan(&count)
 	return count > 0
 }
 
 func (s mssql) HasColumn(scope *Scope, tableName string, columnName string) bool {
-	var count int
-	scope.NewDB().Raw("SELECT count(*) FROM information_schema.columns WHERE table_catalog = ? AND table_name = ? AND column_name = ?", s.databaseName(scope), tableName, columnName).Row().Scan(&count)
+	var (
+		count        int
+		databaseName = s.CurrentDatabase(scope)
+	)
+	scope.NewDB().Raw("SELECT count(*) FROM information_schema.columns WHERE table_catalog = ? AND table_name = ? AND column_name = ?", databaseName, tableName, columnName).Row().Scan(&count)
 	return count > 0
 }
 
@@ -79,3 +73,8 @@ func (mssql) HasIndex(scope *Scope, tableName string, indexName string) bool {
 	scope.NewDB().Raw("SELECT count(*) FROM sys.indexes WHERE name=? AND object_id=OBJECT_ID(?)", indexName, tableName).Row().Scan(&count)
 	return count > 0
 }
+
+func (mssql) CurrentDatabase(scope *Scope) (name string) {
+	scope.Err(scope.NewDB().Raw("SELECT DB_NAME() AS [Current Database]").Row().Scan(&name))
+	return
+}
diff --git a/mysql.go b/mysql.go
index a5e4a45..66c4a3a 100644
--- a/mysql.go
+++ b/mysql.go
@@ -63,3 +63,8 @@ func (mysql) Quote(key string) string {
 func (mysql) SelectFromDummyTable() string {
 	return "FROM DUAL"
 }
+
+func (mysql) CurrentDatabase(scope *Scope) (name string) {
+	scope.Err(scope.NewDB().Raw("SELECT DATABASE()").Row().Scan(&name))
+	return
+}
diff --git a/postgres.go b/postgres.go
index 4218e1b..00527dc 100644
--- a/postgres.go
+++ b/postgres.go
@@ -85,6 +85,11 @@ func (postgres) HasIndex(scope *Scope, tableName string, indexName string) bool
 	return count > 0
 }
 
+func (postgres) CurrentDatabase(scope *Scope) (name string) {
+	scope.Err(scope.NewDB().Raw("SELECT CURRENT_DATABASE()").Row().Scan(&name))
+	return
+}
+
 var hstoreType = reflect.TypeOf(Hstore{})
 
 type Hstore map[string]*string
diff --git a/sqlite3.go b/sqlite3.go
index afe70e3..c2ebffb 100644
--- a/sqlite3.go
+++ b/sqlite3.go
@@ -61,3 +61,21 @@ func (sqlite3) HasIndex(scope *Scope, tableName string, indexName string) bool {
 func (sqlite3) RemoveIndex(scope *Scope, indexName string) {
 	scope.NewDB().Exec(fmt.Sprintf("DROP INDEX %v", indexName))
 }
+
+func (sqlite3) CurrentDatabase(scope *Scope) (name string) {
+	var (
+		ifaces   = make([]interface{}, 3)
+		pointers = make([]*string, 3)
+		i        int
+	)
+	for i = 0; i < 3; i++ {
+		ifaces[i] = &pointers[i]
+	}
+	if err := scope.NewDB().Raw("PRAGMA database_list").Row().Scan(ifaces...); scope.Err(err) != nil {
+		return
+	}
+	if pointers[1] != nil {
+		name = *pointers[1]
+	}
+	return
+}
