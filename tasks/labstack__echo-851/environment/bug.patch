diff --git a/middleware/compress.go b/middleware/compress.go
index cfe8610..3d4a762 100644
--- a/middleware/compress.go
+++ b/middleware/compress.go
@@ -67,17 +67,14 @@ func GzipWithConfig(config GzipConfig) echo.MiddlewareFunc {
 			res := c.Response()
 			res.Header().Add(echo.HeaderVary, echo.HeaderAcceptEncoding)
 			if strings.Contains(c.Request().Header.Get(echo.HeaderAcceptEncoding), gzipScheme) {
-				res.Header().Add(echo.HeaderContentEncoding, gzipScheme) // issue #806
 				rw := res.Writer
 				w, err := gzip.NewWriterLevel(rw, config.Level)
 				if err != nil {
 					return err
 				}
 				defer func() {
+
 					if res.Size == 0 {
-						if res.Header().Get(echo.HeaderContentEncoding) == gzipScheme {
-							res.Header().Del(echo.HeaderContentEncoding)
-						}
 						// We have to reset response to it's pristine state when
 						// nothing is written to body or error is returned.
 						// See issue #424, #407.
@@ -95,8 +92,8 @@ func GzipWithConfig(config GzipConfig) echo.MiddlewareFunc {
 }
 
 func (w *gzipResponseWriter) WriteHeader(code int) {
-	if code == http.StatusNoContent { // Issue #489
-		w.ResponseWriter.Header().Del(echo.HeaderContentEncoding)
+	if code != http.StatusNoContent { // Issue #489
+		w.ResponseWriter.Header().Set(echo.HeaderContentEncoding, gzipScheme)
 	}
 	w.ResponseWriter.WriteHeader(code)
 }
diff --git a/middleware/compress_test.go b/middleware/compress_test.go
index 409ec8a..a31ddcc 100644
--- a/middleware/compress_test.go
+++ b/middleware/compress_test.go
@@ -3,7 +3,6 @@ package middleware
 import (
 	"bytes"
 	"compress/gzip"
-	"io/ioutil"
 	"net/http"
 	"net/http/httptest"
 	"testing"
@@ -72,29 +71,3 @@ func TestGzipErrorReturned(t *testing.T) {
 	assert.Equal(t, http.StatusNotFound, rec.Code)
 	assert.Empty(t, rec.Header().Get(echo.HeaderContentEncoding))
 }
-
-// Issue #806
-func TestGzipWithStatic(t *testing.T) {
-	e := echo.New()
-	e.Use(Gzip())
-	e.Static("/test", "testdata/compress")
-	req, _ := http.NewRequest(echo.GET, "/test/data", nil)
-	req.Header.Set(echo.HeaderAcceptEncoding, gzipScheme)
-	rec := httptest.NewRecorder()
-	e.ServeHTTP(rec, req)
-	assert.Equal(t, http.StatusOK, rec.Code)
-	// Data is written out in chunks when Content-Length == "", so only
-	// validate the content length if it's not set.
-	if cl := rec.Header().Get("Content-Length"); cl != "" {
-		assert.Equal(t, cl, rec.Body.Len())
-	}
-	r, err := gzip.NewReader(rec.Body)
-	assert.NoError(t, err)
-	defer r.Close()
-	want, err := ioutil.ReadFile("testdata/compress/data")
-	if assert.NoError(t, err) {
-		var buf bytes.Buffer
-		buf.ReadFrom(r)
-		assert.Equal(t, want, buf.Bytes())
-	}
-}
diff --git a/middleware/testdata/compress/data b/middleware/testdata/compress/data
deleted file mode 100644
index 0aa6fb5..0000000
--- a/middleware/testdata/compress/data
+++ /dev/null
@@ -1 +0,0 @@
-test data
\ No newline at end of file
