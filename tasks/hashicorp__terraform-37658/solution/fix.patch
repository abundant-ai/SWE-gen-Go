diff --git a/internal/terraform/graph_builder_plan.go b/internal/terraform/graph_builder_plan.go
index 69776cff54..87a8dab985 100644
--- a/internal/terraform/graph_builder_plan.go
+++ b/internal/terraform/graph_builder_plan.go
@@ -174,9 +174,10 @@ func (b *PlanGraphBuilder) Steps() []GraphTransformer {
 		},
 
 		&ActionPlanTransformer{
-			Config:    b.Config,
-			Operation: b.Operation,
-			Targets:   b.ActionTargets,
+			Config:        b.Config,
+			Operation:     b.Operation,
+			Targets:       b.ActionTargets,
+			queryPlanMode: b.queryPlan,
 		},
 
 		// Add dynamic values
diff --git a/internal/terraform/transform_action_plan.go b/internal/terraform/transform_action_plan.go
index 752a8e9b2f..7f2fc8b4e2 100644
--- a/internal/terraform/transform_action_plan.go
+++ b/internal/terraform/transform_action_plan.go
@@ -16,10 +16,12 @@ type ActionPlanTransformer struct {
 	Config    *configs.Config
 	Targets   []addrs.Targetable
 	Operation walkOperation
+
+	queryPlanMode bool
 }
 
 func (t *ActionPlanTransformer) Transform(g *Graph) error {
-	if t.Operation != walkPlan {
+	if t.Operation != walkPlan || t.queryPlanMode {
 		return nil
 	}
 
