diff --git a/globals.go b/globals.go
index e68bb0c..e2d55fa 100644
--- a/globals.go
+++ b/globals.go
@@ -3,44 +3,42 @@ package goose
 import (
 	"errors"
 	"fmt"
+	"path/filepath"
 )
 
 var (
 	registeredGoMigrations = make(map[int64]*Migration)
 )
 
-// ResetGlobalMigrations resets the global go migrations registry.
+// ResetGlobalMigrations resets the global Go migrations registry.
 //
 // Not safe for concurrent use.
 func ResetGlobalMigrations() {
 	registeredGoMigrations = make(map[int64]*Migration)
 }
 
-// SetGlobalMigrations registers go migrations globally. It returns an error if a migration with the
-// same version has already been registered.
-//
-// Source may be empty, but if it is set, it must be a path with a numeric component that matches
-// the version. Do not register legacy non-context functions: UpFn, DownFn, UpFnNoTx, DownFnNoTx.
+// SetGlobalMigrations registers Go migrations globally. It returns an error if a migration with the
+// same version has already been registered. Go migrations must be constructed using the
+// [NewGoMigration] function.
 //
 // Not safe for concurrent use.
 func SetGlobalMigrations(migrations ...Migration) error {
-	for _, m := range migrations {
-		// make a copy of the migration so we can modify it without affecting the original.
-		if err := validGoMigration(&m); err != nil {
-			return fmt.Errorf("invalid go migration: %w", err)
-		}
+	for _, migration := range migrations {
+		m := &migration
 		if _, ok := registeredGoMigrations[m.Version]; ok {
 			return fmt.Errorf("go migration with version %d already registered", m.Version)
 		}
-		m.Next, m.Previous = -1, -1 // Do not allow these to be set by the user.
-		registeredGoMigrations[m.Version] = &m
+		if err := checkMigration(m); err != nil {
+			return fmt.Errorf("invalid go migration: %w", err)
+		}
+		registeredGoMigrations[m.Version] = m
 	}
 	return nil
 }
 
-func validGoMigration(m *Migration) error {
-	if m == nil {
-		return errors.New("must not be nil")
+func checkMigration(m *Migration) error {
+	if !m.construct {
+		return errors.New("must use NewGoMigration to construct migrations")
 	}
 	if !m.Registered {
 		return errors.New("must be registered")
@@ -52,36 +50,81 @@ func validGoMigration(m *Migration) error {
 		return errors.New("version must be greater than zero")
 	}
 	if m.Source != "" {
+		if filepath.Ext(m.Source) != ".go" {
+			return fmt.Errorf("source must have .go extension: %q", m.Source)
+		}
 		// If the source is set, expect it to be a path with a numeric component that matches the
 		// version. This field is not intended to be used for descriptive purposes.
 		version, err := NumericComponent(m.Source)
 		if err != nil {
-			return err
+			return fmt.Errorf("invalid source: %w", err)
 		}
 		if version != m.Version {
-			return fmt.Errorf("numeric component [%d] in go migration does not match version in source %q", m.Version, m.Source)
+			return fmt.Errorf("version:%d does not match numeric component in source %q", m.Version, m.Source)
 		}
 	}
-	// It's valid for all of these funcs to be nil. Which means version the go migration but do not
-	// run anything.
+	if err := setGoFunc(m.goUp); err != nil {
+		return fmt.Errorf("up function: %w", err)
+	}
+	if err := setGoFunc(m.goDown); err != nil {
+		return fmt.Errorf("down function: %w", err)
+	}
 	if m.UpFnContext != nil && m.UpFnNoTxContext != nil {
 		return errors.New("must specify exactly one of UpFnContext or UpFnNoTxContext")
 	}
+	if m.UpFn != nil && m.UpFnNoTx != nil {
+		return errors.New("must specify exactly one of UpFn or UpFnNoTx")
+	}
 	if m.DownFnContext != nil && m.DownFnNoTxContext != nil {
 		return errors.New("must specify exactly one of DownFnContext or DownFnNoTxContext")
 	}
-	// Do not allow legacy functions to be set.
-	if m.UpFn != nil {
-		return errors.New("must not specify UpFn")
+	if m.DownFn != nil && m.DownFnNoTx != nil {
+		return errors.New("must specify exactly one of DownFn or DownFnNoTx")
 	}
-	if m.DownFn != nil {
-		return errors.New("must not specify DownFn")
+	return nil
+}
+
+func setGoFunc(f *GoFunc) error {
+	if f == nil {
+		f = &GoFunc{Mode: TransactionEnabled}
+		return nil
 	}
-	if m.UpFnNoTx != nil {
-		return errors.New("must not specify UpFnNoTx")
+	if f.RunTx != nil && f.RunDB != nil {
+		return errors.New("must specify exactly one of RunTx or RunDB")
+	}
+	if f.RunTx == nil && f.RunDB == nil {
+		switch f.Mode {
+		case 0:
+			// Default to TransactionEnabled ONLY if mode is not set explicitly.
+			f.Mode = TransactionEnabled
+		case TransactionEnabled, TransactionDisabled:
+			// No functions but mode is set. This is not an error. It means the user wants to record
+			// a version with the given mode but not run any functions.
+		default:
+			return fmt.Errorf("invalid mode: %d", f.Mode)
+		}
+		return nil
+	}
+	if f.RunDB != nil {
+		switch f.Mode {
+		case 0, TransactionDisabled:
+			f.Mode = TransactionDisabled
+		default:
+			return fmt.Errorf("transaction mode must be disabled or unspecified when RunDB is set")
+		}
+	}
+	if f.RunTx != nil {
+		switch f.Mode {
+		case 0, TransactionEnabled:
+			f.Mode = TransactionEnabled
+		default:
+			return fmt.Errorf("transaction mode must be enabled or unspecified when RunTx is set")
+		}
 	}
-	if m.DownFnNoTx != nil {
-		return errors.New("must not specify DownFnNoTx")
+	// This is a defensive check. If the mode is still 0, it means we failed to infer the mode from
+	// the functions or return an error. This should never happen.
+	if f.Mode == 0 {
+		return errors.New("failed to infer transaction mode")
 	}
 	return nil
 }
diff --git a/internal/check/check.go b/internal/check/check.go
index f5d1b6d..76dfac7 100644
--- a/internal/check/check.go
+++ b/internal/check/check.go
@@ -8,13 +8,6 @@ import (
 	"testing"
 )
 
-func NotNil(t *testing.T, v any) {
-	t.Helper()
-	if v == nil {
-		t.Fatal("unexpected nil value")
-	}
-}
-
 func NoError(t *testing.T, err error) {
 	t.Helper()
 	if err != nil {
diff --git a/migrate.go b/migrate.go
index 599810c..22769ff 100644
--- a/migrate.go
+++ b/migrate.go
@@ -8,7 +8,6 @@ import (
 	"io/fs"
 	"math"
 	"path"
-	"runtime"
 	"sort"
 	"strings"
 	"time"
@@ -125,115 +124,6 @@ func (ms Migrations) String() string {
 	return str
 }
 
-// GoMigration is a Go migration func that is run within a transaction.
-type GoMigration func(tx *sql.Tx) error
-
-// GoMigrationContext is a Go migration func that is run within a transaction and receives a context.
-type GoMigrationContext func(ctx context.Context, tx *sql.Tx) error
-
-// GoMigrationNoTx is a Go migration func that is run outside a transaction.
-type GoMigrationNoTx func(db *sql.DB) error
-
-// GoMigrationNoTxContext is a Go migration func that is run outside a transaction and receives a context.
-type GoMigrationNoTxContext func(ctx context.Context, db *sql.DB) error
-
-// AddMigration adds Go migrations.
-//
-// Deprecated: Use AddMigrationContext.
-func AddMigration(up, down GoMigration) {
-	_, filename, _, _ := runtime.Caller(1)
-	AddNamedMigrationContext(filename, withContext(up), withContext(down))
-}
-
-// AddMigrationContext adds Go migrations.
-func AddMigrationContext(up, down GoMigrationContext) {
-	_, filename, _, _ := runtime.Caller(1)
-	AddNamedMigrationContext(filename, up, down)
-}
-
-// AddNamedMigration adds named Go migrations.
-//
-// Deprecated: Use AddNamedMigrationContext.
-func AddNamedMigration(filename string, up, down GoMigration) {
-	AddNamedMigrationContext(filename, withContext(up), withContext(down))
-}
-
-// AddNamedMigrationContext adds named Go migrations.
-func AddNamedMigrationContext(filename string, up, down GoMigrationContext) {
-	if err := register(filename, true, up, down, nil, nil); err != nil {
-		panic(err)
-	}
-}
-
-// AddMigrationNoTx adds Go migrations that will be run outside transaction.
-//
-// Deprecated: Use AddNamedMigrationNoTxContext.
-func AddMigrationNoTx(up, down GoMigrationNoTx) {
-	_, filename, _, _ := runtime.Caller(1)
-	AddNamedMigrationNoTxContext(filename, withContext(up), withContext(down))
-}
-
-// AddMigrationNoTxContext adds Go migrations that will be run outside transaction.
-func AddMigrationNoTxContext(up, down GoMigrationNoTxContext) {
-	_, filename, _, _ := runtime.Caller(1)
-	AddNamedMigrationNoTxContext(filename, up, down)
-}
-
-// AddNamedMigrationNoTx adds named Go migrations that will be run outside transaction.
-//
-// Deprecated: Use AddNamedMigrationNoTxContext.
-func AddNamedMigrationNoTx(filename string, up, down GoMigrationNoTx) {
-	AddNamedMigrationNoTxContext(filename, withContext(up), withContext(down))
-}
-
-// AddNamedMigrationNoTxContext adds named Go migrations that will be run outside transaction.
-func AddNamedMigrationNoTxContext(filename string, up, down GoMigrationNoTxContext) {
-	if err := register(filename, false, nil, nil, up, down); err != nil {
-		panic(err)
-	}
-}
-
-func register(
-	filename string,
-	useTx bool,
-	up, down GoMigrationContext,
-	upNoTx, downNoTx GoMigrationNoTxContext,
-) error {
-	// Sanity check caller did not mix tx and non-tx based functions.
-	if (up != nil || down != nil) && (upNoTx != nil || downNoTx != nil) {
-		return fmt.Errorf("cannot mix tx and non-tx based go migrations functions")
-	}
-	v, _ := NumericComponent(filename)
-	if existing, ok := registeredGoMigrations[v]; ok {
-		return fmt.Errorf("failed to add migration %q: version %d conflicts with %q",
-			filename,
-			v,
-			existing.Source,
-		)
-	}
-	// Add to global as a registered migration.
-	registeredGoMigrations[v] = &Migration{
-		Version:           v,
-		Next:              -1,
-		Previous:          -1,
-		Registered:        true,
-		Source:            filename,
-		UseTx:             useTx,
-		UpFnContext:       up,
-		DownFnContext:     down,
-		UpFnNoTxContext:   upNoTx,
-		DownFnNoTxContext: downNoTx,
-		// These are deprecated and will be removed in the future.
-		// For backwards compatibility we still save the non-context versions in the struct in case someone is using them.
-		// Goose does not use these internally anymore and instead uses the context versions.
-		UpFn:       withoutContext(up),
-		DownFn:     withoutContext(down),
-		UpFnNoTx:   withoutContext(upNoTx),
-		DownFnNoTx: withoutContext(downNoTx),
-	}
-	return nil
-}
-
 func collectMigrationsFS(
 	fsys fs.FS,
 	dirpath string,
@@ -388,29 +278,6 @@ func GetDBVersionContext(ctx context.Context, db *sql.DB) (int64, error) {
 	return version, nil
 }
 
-// withContext changes the signature of a function that receives one argument to receive a context and the argument.
-func withContext[T any](fn func(T) error) func(context.Context, T) error {
-	if fn == nil {
-		return nil
-	}
-
-	return func(ctx context.Context, t T) error {
-		return fn(t)
-	}
-}
-
-// withoutContext changes the signature of a function that receives a context and one argument to receive only the argument.
-// When called the passed context is always context.Background().
-func withoutContext[T any](fn func(context.Context, T) error) func(T) error {
-	if fn == nil {
-		return nil
-	}
-
-	return func(t T) error {
-		return fn(context.Background(), t)
-	}
-}
-
 // collectGoMigrations collects Go migrations from the filesystem and merges them with registered
 // migrations.
 //
diff --git a/migration.go b/migration.go
index d81e589..be23d03 100644
--- a/migration.go
+++ b/migration.go
@@ -13,36 +13,141 @@ import (
 	"github.com/pressly/goose/v3/internal/sqlparser"
 )
 
-// MigrationRecord struct.
-type MigrationRecord struct {
-	VersionID int64
-	TStamp    time.Time
-	IsApplied bool // was this a result of up() or down()
+// NewGoMigration creates a new Go migration.
+//
+// Both up and down functions may be nil, in which case the migration will be recorded in the
+// versions table but no functions will be run. This is useful for recording (up) or deleting (down)
+// a version without running any functions. See [GoFunc] for more details.
+func NewGoMigration(version int64, up, down *GoFunc) Migration {
+	m := Migration{
+		Type:       TypeGo,
+		Registered: true,
+		Version:    version,
+		Next:       -1, Previous: -1,
+		goUp:      up,
+		goDown:    down,
+		construct: true,
+	}
+	// To maintain backwards compatibility, we set ALL legacy functions. In a future major version,
+	// we will remove these fields in favor of [GoFunc].
+	//
+	// Note, this function does not do any validation. Validation is lazily done when the migration
+	// is registered.
+	if up != nil {
+		if up.RunDB != nil {
+			m.UpFnNoTxContext = up.RunDB          // func(context.Context, *sql.DB) error
+			m.UpFnNoTx = withoutContext(up.RunDB) // func(*sql.DB) error
+		}
+		if up.RunTx != nil {
+			m.UseTx = true
+			m.UpFnContext = up.RunTx          // func(context.Context, *sql.Tx) error
+			m.UpFn = withoutContext(up.RunTx) // func(*sql.Tx) error
+		}
+	}
+	if down != nil {
+		if down.RunDB != nil {
+			m.DownFnNoTxContext = down.RunDB          // func(context.Context, *sql.DB) error
+			m.DownFnNoTx = withoutContext(down.RunDB) // func(*sql.DB) error
+		}
+		if down.RunTx != nil {
+			m.UseTx = true
+			m.DownFnContext = down.RunTx          // func(context.Context, *sql.Tx) error
+			m.DownFn = withoutContext(down.RunTx) // func(*sql.Tx) error
+		}
+	}
+	if m.goUp == nil {
+		m.goUp = &GoFunc{Mode: TransactionEnabled}
+	}
+	if m.goDown == nil {
+		m.goDown = &GoFunc{Mode: TransactionEnabled}
+	}
+	return m
 }
 
 // Migration struct represents either a SQL or Go migration.
+//
+// Avoid constructing migrations manually, use [NewGoMigration] function.
 type Migration struct {
-	Type                               MigrationType
-	Version                            int64
-	Source                             string // path to .sql script or .go file
-	Registered                         bool
+	Type    MigrationType
+	Version int64
+	// Source is the path to the .sql script or .go file. It may be empty for Go migrations that
+	// have been registered globally and don't have a source file.
+	Source string
+
 	UpFnContext, DownFnContext         GoMigrationContext
 	UpFnNoTxContext, DownFnNoTxContext GoMigrationNoTxContext
+	// These fields are used internally by goose and users are not expected to set them. Instead,
+	// use [NewGoMigration] to create a new go migration.
+	construct    bool
+	goUp, goDown *GoFunc
 
 	// These fields will be removed in a future major version. They are here for backwards
 	// compatibility and are an implementation detail.
-	UseTx    bool
-	Next     int64 // next version, or -1 if none
-	Previous int64 // previous version, -1 if none
+	Registered bool
+	UseTx      bool
+	Next       int64 // next version, or -1 if none
+	Previous   int64 // previous version, -1 if none
 
 	// We still save the non-context versions in the struct in case someone is using them. Goose
-	// does not use these internally anymore in favor of the context-aware versions.
-	UpFn, DownFn         GoMigration
-	UpFnNoTx, DownFnNoTx GoMigrationNoTx
+	// does not use these internally anymore in favor of the context-aware versions. These fields
+	// will be removed in a future major version.
+
+	UpFn       GoMigration     // Deprecated: use UpFnContext instead.
+	DownFn     GoMigration     // Deprecated: use DownFnContext instead.
+	UpFnNoTx   GoMigrationNoTx // Deprecated: use UpFnNoTxContext instead.
+	DownFnNoTx GoMigrationNoTx // Deprecated: use DownFnNoTxContext instead.
 
 	noVersioning bool
 }
 
+// GoFunc represents a Go migration function.
+type GoFunc struct {
+	// Exactly one of these must be set, or both must be nil.
+	RunTx func(ctx context.Context, tx *sql.Tx) error
+	// -- OR --
+	RunDB func(ctx context.Context, db *sql.DB) error
+
+	// Mode is the transaction mode for the migration. When one of the run functions is set, the
+	// mode will be inferred from the function and the field is ignored. Users do not need to set
+	// this field when supplying a run function.
+	//
+	// If both run functions are nil, the mode defaults to TransactionEnabled. The use case for nil
+	// functions is to record a version in the version table without invoking a Go migration
+	// function.
+	//
+	// The only time this field is required is if BOTH run functions are nil AND you want to
+	// override the default transaction mode.
+	Mode TransactionMode
+}
+
+// TransactionMode represents the possible transaction modes for a migration.
+type TransactionMode int
+
+const (
+	TransactionEnabled TransactionMode = iota + 1
+	TransactionDisabled
+)
+
+func (m TransactionMode) String() string {
+	switch m {
+	case TransactionEnabled:
+		return "transaction_enabled"
+	case TransactionDisabled:
+		return "transaction_disabled"
+	default:
+		return fmt.Sprintf("unknown transaction mode (%d)", m)
+	}
+}
+
+// MigrationRecord struct.
+//
+// Deprecated: unused and will be removed in a future major version.
+type MigrationRecord struct {
+	VersionID int64
+	TStamp    time.Time
+	IsApplied bool // was this a result of up() or down()
+}
+
 func (m *Migration) String() string {
 	return fmt.Sprint(m.Source)
 }
diff --git a/register.go b/register.go
new file mode 100644
index 0000000..89bd4c7
--- /dev/null
+++ b/register.go
@@ -0,0 +1,133 @@
+package goose
+
+import (
+	"context"
+	"database/sql"
+	"fmt"
+	"runtime"
+)
+
+// GoMigrationContext is a Go migration func that is run within a transaction and receives a
+// context.
+type GoMigrationContext func(ctx context.Context, tx *sql.Tx) error
+
+// AddMigrationContext adds Go migrations.
+func AddMigrationContext(up, down GoMigrationContext) {
+	_, filename, _, _ := runtime.Caller(1)
+	AddNamedMigrationContext(filename, up, down)
+}
+
+// AddNamedMigrationContext adds named Go migrations.
+func AddNamedMigrationContext(filename string, up, down GoMigrationContext) {
+	if err := register(
+		filename,
+		true,
+		&GoFunc{RunTx: up},
+		&GoFunc{RunTx: down},
+	); err != nil {
+		panic(err)
+	}
+}
+
+// GoMigrationNoTxContext is a Go migration func that is run outside a transaction and receives a
+// context.
+type GoMigrationNoTxContext func(ctx context.Context, db *sql.DB) error
+
+// AddMigrationNoTxContext adds Go migrations that will be run outside transaction.
+func AddMigrationNoTxContext(up, down GoMigrationNoTxContext) {
+	_, filename, _, _ := runtime.Caller(1)
+	AddNamedMigrationNoTxContext(filename, up, down)
+}
+
+// AddNamedMigrationNoTxContext adds named Go migrations that will be run outside transaction.
+func AddNamedMigrationNoTxContext(filename string, up, down GoMigrationNoTxContext) {
+	if err := register(
+		filename,
+		false,
+		&GoFunc{RunDB: up},
+		&GoFunc{RunDB: down},
+	); err != nil {
+		panic(err)
+	}
+}
+
+func register(filename string, useTx bool, up, down *GoFunc) error {
+	v, _ := NumericComponent(filename)
+	if existing, ok := registeredGoMigrations[v]; ok {
+		return fmt.Errorf("failed to add migration %q: version %d conflicts with %q",
+			filename,
+			v,
+			existing.Source,
+		)
+	}
+	// Add to global as a registered migration.
+	m := NewGoMigration(v, up, down)
+	m.Source = filename
+	// We explicitly set transaction to maintain existing behavior. Both up and down may be nil, but
+	// we know based on the register function what the user is requesting.
+	m.UseTx = useTx
+	registeredGoMigrations[v] = &m
+	return nil
+}
+
+// withContext changes the signature of a function that receives one argument to receive a context
+// and the argument.
+func withContext[T any](fn func(T) error) func(context.Context, T) error {
+	if fn == nil {
+		return nil
+	}
+	return func(ctx context.Context, t T) error {
+		return fn(t)
+	}
+}
+
+// withoutContext changes the signature of a function that receives a context and one argument to
+// receive only the argument. When called the passed context is always context.Background().
+func withoutContext[T any](fn func(context.Context, T) error) func(T) error {
+	if fn == nil {
+		return nil
+	}
+	return func(t T) error {
+		return fn(context.Background(), t)
+	}
+}
+
+// GoMigration is a Go migration func that is run within a transaction.
+//
+// Deprecated: Use GoMigrationContext.
+type GoMigration func(tx *sql.Tx) error
+
+// GoMigrationNoTx is a Go migration func that is run outside a transaction.
+//
+// Deprecated: Use GoMigrationNoTxContext.
+type GoMigrationNoTx func(db *sql.DB) error
+
+// AddMigration adds Go migrations.
+//
+// Deprecated: Use AddMigrationContext.
+func AddMigration(up, down GoMigration) {
+	_, filename, _, _ := runtime.Caller(1)
+	AddNamedMigrationContext(filename, withContext(up), withContext(down))
+}
+
+// AddNamedMigration adds named Go migrations.
+//
+// Deprecated: Use AddNamedMigrationContext.
+func AddNamedMigration(filename string, up, down GoMigration) {
+	AddNamedMigrationContext(filename, withContext(up), withContext(down))
+}
+
+// AddMigrationNoTx adds Go migrations that will be run outside transaction.
+//
+// Deprecated: Use AddMigrationNoTxContext.
+func AddMigrationNoTx(up, down GoMigrationNoTx) {
+	_, filename, _, _ := runtime.Caller(1)
+	AddNamedMigrationNoTxContext(filename, withContext(up), withContext(down))
+}
+
+// AddNamedMigrationNoTx adds named Go migrations that will be run outside transaction.
+//
+// Deprecated: Use AddNamedMigrationNoTxContext.
+func AddNamedMigrationNoTx(filename string, up, down GoMigrationNoTx) {
+	AddNamedMigrationNoTxContext(filename, withContext(up), withContext(down))
+}
