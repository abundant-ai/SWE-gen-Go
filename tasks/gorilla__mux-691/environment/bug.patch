diff --git a/bench_test.go b/bench_test.go
index c1f86ca..522156d 100644
--- a/bench_test.go
+++ b/bench_test.go
@@ -21,38 +21,6 @@ func BenchmarkMux(b *testing.B) {
 	}
 }
 
-func BenchmarkMuxSimple(b *testing.B) {
-	router := new(Router)
-	handler := func(w http.ResponseWriter, r *http.Request) {}
-	router.HandleFunc("/status", handler)
-
-	testCases := []struct {
-		name                 string
-		omitRouteFromContext bool
-	}{
-		{
-			name:                 "default",
-			omitRouteFromContext: false,
-		},
-		{
-			name:                 "omit route from ctx",
-			omitRouteFromContext: true,
-		},
-	}
-	for _, tc := range testCases {
-		b.Run(tc.name, func(b *testing.B) {
-			router.OmitRouteFromContext(tc.omitRouteFromContext)
-
-			request, _ := http.NewRequest("GET", "/status", nil)
-			b.ReportAllocs()
-			b.ResetTimer()
-			for i := 0; i < b.N; i++ {
-				router.ServeHTTP(nil, request)
-			}
-		})
-	}
-}
-
 func BenchmarkMuxAlternativeInRegexp(b *testing.B) {
 	router := new(Router)
 	handler := func(w http.ResponseWriter, r *http.Request) {}
diff --git a/mux.go b/mux.go
index bcab454..c0c37ec 100644
--- a/mux.go
+++ b/mux.go
@@ -9,7 +9,6 @@ import (
 	"errors"
 	"fmt"
 	"net/http"
-	"net/url"
 	"path"
 	"regexp"
 )
@@ -85,9 +84,6 @@ type routeConf struct {
 	// will not redirect
 	skipClean bool
 
-	// If true, the http.Request context will not contain the Route.
-	omitRouteFromContext bool
-
 	// Manager for the variables from host and path.
 	regexp routeRegexpGroup
 
@@ -184,7 +180,15 @@ func (r *Router) ServeHTTP(w http.ResponseWriter, req *http.Request) {
 		}
 		// Clean path to canonical form and redirect.
 		if p := cleanPath(path); p != path {
-			w.Header().Set("Location", replaceURLPath(req.URL, p))
+
+			// Added 3 lines (Philip Schlump) - It was dropping the query string and #whatever from query.
+			// This matches with fix in go 1.2 r.c. 4 for same problem.  Go Issue:
+			// http://code.google.com/p/go/issues/detail?id=5252
+			url := *req.URL
+			url.Path = p
+			p = url.String()
+
+			w.Header().Set("Location", p)
 			w.WriteHeader(http.StatusMovedPermanently)
 			return
 		}
@@ -193,15 +197,8 @@ func (r *Router) ServeHTTP(w http.ResponseWriter, req *http.Request) {
 	var handler http.Handler
 	if r.Match(req, &match) {
 		handler = match.Handler
-		if handler != nil {
-			// Populate context for custom handlers
-			if r.omitRouteFromContext {
-				// Only populate the match vars (if any) into the context.
-				req = requestWithVars(req, match.Vars)
-			} else {
-				req = requestWithRouteAndVars(req, match.Route, match.Vars)
-			}
-		}
+		req = requestWithVars(req, match.Vars)
+		req = requestWithRoute(req, match.Route)
 	}
 
 	if handler == nil && match.MatchErr == ErrMethodMismatch {
@@ -263,16 +260,6 @@ func (r *Router) SkipClean(value bool) *Router {
 	return r
 }
 
-// OmitRouteFromContext defines the behavior of omitting the Route from the
-//
-//	http.Request context.
-//
-// CurrentRoute will yield nil with this option.
-func (r *Router) OmitRouteFromContext(value bool) *Router {
-	r.omitRouteFromContext = value
-	return r
-}
-
 // UseEncodedPath tells the router to match the encoded original path
 // to the routes.
 // For eg. "/path/foo%2Fbar/to" will match the path "/path/{var}/to".
@@ -458,25 +445,13 @@ func CurrentRoute(r *http.Request) *Route {
 	return nil
 }
 
-// requestWithRouteAndVars adds the matched vars to the request ctx.
-// It shortcuts the operation when the vars are empty.
 func requestWithVars(r *http.Request, vars map[string]string) *http.Request {
-	if len(vars) == 0 {
-		return r
-	}
 	ctx := context.WithValue(r.Context(), varsKey, vars)
 	return r.WithContext(ctx)
 }
 
-// requestWithRouteAndVars adds the matched route and vars to the request ctx.
-// It saves extra allocations in cloning the request once and skipping the
-//
-//	population of empty vars, which in turn mux.Vars can handle gracefully.
-func requestWithRouteAndVars(r *http.Request, route *Route, vars map[string]string) *http.Request {
+func requestWithRoute(r *http.Request, route *Route) *http.Request {
 	ctx := context.WithValue(r.Context(), routeKey, route)
-	if len(vars) > 0 {
-		ctx = context.WithValue(ctx, varsKey, vars)
-	}
 	return r.WithContext(ctx)
 }
 
@@ -503,14 +478,6 @@ func cleanPath(p string) string {
 	return np
 }
 
-// replaceURLPath prints an url.URL with a different path.
-func replaceURLPath(u *url.URL, p string) string {
-	// Operate on a copy of the request url.
-	u2 := *u
-	u2.Path = p
-	return u2.String()
-}
-
 // uniqueVars returns an error if two slices contain duplicated strings.
 func uniqueVars(s1, s2 []string) error {
 	for _, v1 := range s1 {
diff --git a/mux_test.go b/mux_test.go
index cb3bbe0..5898688 100644
--- a/mux_test.go
+++ b/mux_test.go
@@ -59,7 +59,7 @@ func TestHost(t *testing.T) {
 			title:       "Host route match",
 			route:       new(Route).Host("aaa.bbb.ccc"),
 			request:     newRequest("GET", "http://aaa.bbb.ccc/111/222/333"),
-			vars:        nil,
+			vars:        map[string]string{},
 			host:        "aaa.bbb.ccc",
 			path:        "",
 			shouldMatch: true,
@@ -68,7 +68,7 @@ func TestHost(t *testing.T) {
 			title:       "Host route, wrong host in request URL",
 			route:       new(Route).Host("aaa.bbb.ccc"),
 			request:     newRequest("GET", "http://aaa.222.ccc/111/222/333"),
-			vars:        nil,
+			vars:        map[string]string{},
 			host:        "aaa.bbb.ccc",
 			path:        "",
 			shouldMatch: false,
@@ -77,7 +77,7 @@ func TestHost(t *testing.T) {
 			title:       "Host route with port, match",
 			route:       new(Route).Host("aaa.bbb.ccc:1234"),
 			request:     newRequest("GET", "http://aaa.bbb.ccc:1234/111/222/333"),
-			vars:        nil,
+			vars:        map[string]string{},
 			host:        "aaa.bbb.ccc:1234",
 			path:        "",
 			shouldMatch: true,
@@ -86,7 +86,7 @@ func TestHost(t *testing.T) {
 			title:       "Host route with port, wrong port in request URL",
 			route:       new(Route).Host("aaa.bbb.ccc:1234"),
 			request:     newRequest("GET", "http://aaa.bbb.ccc:9999/111/222/333"),
-			vars:        nil,
+			vars:        map[string]string{},
 			host:        "aaa.bbb.ccc:1234",
 			path:        "",
 			shouldMatch: false,
@@ -95,7 +95,7 @@ func TestHost(t *testing.T) {
 			title:       "Host route, match with host in request header",
 			route:       new(Route).Host("aaa.bbb.ccc"),
 			request:     newRequestHost("GET", "/111/222/333", "aaa.bbb.ccc"),
-			vars:        nil,
+			vars:        map[string]string{},
 			host:        "aaa.bbb.ccc",
 			path:        "",
 			shouldMatch: true,
@@ -104,7 +104,7 @@ func TestHost(t *testing.T) {
 			title:       "Host route, wrong host in request header",
 			route:       new(Route).Host("aaa.bbb.ccc"),
 			request:     newRequestHost("GET", "/111/222/333", "aaa.222.ccc"),
-			vars:        nil,
+			vars:        map[string]string{},
 			host:        "aaa.bbb.ccc",
 			path:        "",
 			shouldMatch: false,
@@ -113,7 +113,7 @@ func TestHost(t *testing.T) {
 			title:       "Host route with port, match with request header",
 			route:       new(Route).Host("aaa.bbb.ccc:1234"),
 			request:     newRequestHost("GET", "/111/222/333", "aaa.bbb.ccc:1234"),
-			vars:        nil,
+			vars:        map[string]string{},
 			host:        "aaa.bbb.ccc:1234",
 			path:        "",
 			shouldMatch: true,
@@ -122,7 +122,7 @@ func TestHost(t *testing.T) {
 			title:       "Host route with port, wrong host in request header",
 			route:       new(Route).Host("aaa.bbb.ccc:1234"),
 			request:     newRequestHost("GET", "/111/222/333", "aaa.bbb.ccc:9999"),
-			vars:        nil,
+			vars:        map[string]string{},
 			host:        "aaa.bbb.ccc:1234",
 			path:        "",
 			shouldMatch: false,
@@ -232,7 +232,7 @@ func TestPath(t *testing.T) {
 			title:       "Path route, match",
 			route:       new(Route).Path("/111/222/333"),
 			request:     newRequest("GET", "http://localhost/111/222/333"),
-			vars:        nil,
+			vars:        map[string]string{},
 			host:        "",
 			path:        "/111/222/333",
 			shouldMatch: true,
@@ -241,7 +241,7 @@ func TestPath(t *testing.T) {
 			title:       "Path route, match with trailing slash in request and path",
 			route:       new(Route).Path("/111/"),
 			request:     newRequest("GET", "http://localhost/111/"),
-			vars:        nil,
+			vars:        map[string]string{},
 			host:        "",
 			path:        "/111/",
 			shouldMatch: true,
@@ -250,7 +250,7 @@ func TestPath(t *testing.T) {
 			title:        "Path route, do not match with trailing slash in path",
 			route:        new(Route).Path("/111/"),
 			request:      newRequest("GET", "http://localhost/111"),
-			vars:         nil,
+			vars:         map[string]string{},
 			host:         "",
 			path:         "/111",
 			pathTemplate: `/111/`,
@@ -261,7 +261,7 @@ func TestPath(t *testing.T) {
 			title:        "Path route, do not match with trailing slash in request",
 			route:        new(Route).Path("/111"),
 			request:      newRequest("GET", "http://localhost/111/"),
-			vars:         nil,
+			vars:         map[string]string{},
 			host:         "",
 			path:         "/111/",
 			pathTemplate: `/111`,
@@ -271,7 +271,7 @@ func TestPath(t *testing.T) {
 			title:        "Path route, match root with no host",
 			route:        new(Route).Path("/"),
 			request:      newRequest("GET", "/"),
-			vars:         nil,
+			vars:         map[string]string{},
 			host:         "",
 			path:         "/",
 			pathTemplate: `/`,
@@ -286,7 +286,7 @@ func TestPath(t *testing.T) {
 				r.RequestURI = "/"
 				return r
 			}(),
-			vars:         nil,
+			vars:         map[string]string{},
 			host:         "",
 			path:         "/",
 			pathTemplate: `/`,
@@ -296,7 +296,7 @@ func TestPath(t *testing.T) {
 			title:       "Path route, wrong path in request in request URL",
 			route:       new(Route).Path("/111/222/333"),
 			request:     newRequest("GET", "http://localhost/1/2/3"),
-			vars:        nil,
+			vars:        map[string]string{},
 			host:        "",
 			path:        "/111/222/333",
 			shouldMatch: false,
@@ -468,7 +468,7 @@ func TestPathPrefix(t *testing.T) {
 			title:       "PathPrefix route, match",
 			route:       new(Route).PathPrefix("/111"),
 			request:     newRequest("GET", "http://localhost/111/222/333"),
-			vars:        nil,
+			vars:        map[string]string{},
 			host:        "",
 			path:        "/111",
 			shouldMatch: true,
@@ -477,7 +477,7 @@ func TestPathPrefix(t *testing.T) {
 			title:       "PathPrefix route, match substring",
 			route:       new(Route).PathPrefix("/1"),
 			request:     newRequest("GET", "http://localhost/111/222/333"),
-			vars:        nil,
+			vars:        map[string]string{},
 			host:        "",
 			path:        "/1",
 			shouldMatch: true,
@@ -486,7 +486,7 @@ func TestPathPrefix(t *testing.T) {
 			title:       "PathPrefix route, URL prefix in request does not match",
 			route:       new(Route).PathPrefix("/111"),
 			request:     newRequest("GET", "http://localhost/1/2/3"),
-			vars:        nil,
+			vars:        map[string]string{},
 			host:        "",
 			path:        "/111",
 			shouldMatch: false,
@@ -548,7 +548,7 @@ func TestSchemeHostPath(t *testing.T) {
 			title:        "Host and Path route, match",
 			route:        new(Route).Host("aaa.bbb.ccc").Path("/111/222/333"),
 			request:      newRequest("GET", "http://aaa.bbb.ccc/111/222/333"),
-			vars:         nil,
+			vars:         map[string]string{},
 			scheme:       "http",
 			host:         "aaa.bbb.ccc",
 			path:         "/111/222/333",
@@ -560,7 +560,7 @@ func TestSchemeHostPath(t *testing.T) {
 			title:        "Scheme, Host, and Path route, match",
 			route:        new(Route).Schemes("https").Host("aaa.bbb.ccc").Path("/111/222/333"),
 			request:      newRequest("GET", "https://aaa.bbb.ccc/111/222/333"),
-			vars:         nil,
+			vars:         map[string]string{},
 			scheme:       "https",
 			host:         "aaa.bbb.ccc",
 			path:         "/111/222/333",
@@ -572,7 +572,7 @@ func TestSchemeHostPath(t *testing.T) {
 			title:        "Host and Path route, wrong host in request URL",
 			route:        new(Route).Host("aaa.bbb.ccc").Path("/111/222/333"),
 			request:      newRequest("GET", "http://aaa.222.ccc/111/222/333"),
-			vars:         nil,
+			vars:         map[string]string{},
 			scheme:       "http",
 			host:         "aaa.bbb.ccc",
 			path:         "/111/222/333",
@@ -669,7 +669,7 @@ func TestHeaders(t *testing.T) {
 			title:       "Headers route, match",
 			route:       new(Route).Headers("foo", "bar", "baz", "ding"),
 			request:     newRequestHeaders("GET", "http://localhost", map[string]string{"foo": "bar", "baz": "ding"}),
-			vars:        nil,
+			vars:        map[string]string{},
 			host:        "",
 			path:        "",
 			shouldMatch: true,
@@ -678,7 +678,7 @@ func TestHeaders(t *testing.T) {
 			title:       "Headers route, bad header values",
 			route:       new(Route).Headers("foo", "bar", "baz", "ding"),
 			request:     newRequestHeaders("GET", "http://localhost", map[string]string{"foo": "bar", "baz": "dong"}),
-			vars:        nil,
+			vars:        map[string]string{},
 			host:        "",
 			path:        "",
 			shouldMatch: false,
@@ -687,7 +687,7 @@ func TestHeaders(t *testing.T) {
 			title:       "Headers route, regex header values to match",
 			route:       new(Route).HeadersRegexp("foo", "ba[zr]"),
 			request:     newRequestHeaders("GET", "http://localhost", map[string]string{"foo": "baw"}),
-			vars:        nil,
+			vars:        map[string]string{},
 			host:        "",
 			path:        "",
 			shouldMatch: false,
@@ -696,7 +696,7 @@ func TestHeaders(t *testing.T) {
 			title:       "Headers route, regex header values to match",
 			route:       new(Route).HeadersRegexp("foo", "ba[zr]"),
 			request:     newRequestHeaders("GET", "http://localhost", map[string]string{"foo": "baz"}),
-			vars:        nil,
+			vars:        map[string]string{},
 			host:        "",
 			path:        "",
 			shouldMatch: true,
@@ -717,7 +717,7 @@ func TestMethods(t *testing.T) {
 			title:       "Methods route, match GET",
 			route:       new(Route).Methods("GET", "POST"),
 			request:     newRequest("GET", "http://localhost"),
-			vars:        nil,
+			vars:        map[string]string{},
 			host:        "",
 			path:        "",
 			methods:     []string{"GET", "POST"},
@@ -727,7 +727,7 @@ func TestMethods(t *testing.T) {
 			title:       "Methods route, match POST",
 			route:       new(Route).Methods("GET", "POST"),
 			request:     newRequest("POST", "http://localhost"),
-			vars:        nil,
+			vars:        map[string]string{},
 			host:        "",
 			path:        "",
 			methods:     []string{"GET", "POST"},
@@ -737,7 +737,7 @@ func TestMethods(t *testing.T) {
 			title:       "Methods route, bad method",
 			route:       new(Route).Methods("GET", "POST"),
 			request:     newRequest("PUT", "http://localhost"),
-			vars:        nil,
+			vars:        map[string]string{},
 			host:        "",
 			path:        "",
 			methods:     []string{"GET", "POST"},
@@ -747,7 +747,7 @@ func TestMethods(t *testing.T) {
 			title:       "Route without methods",
 			route:       new(Route),
 			request:     newRequest("PUT", "http://localhost"),
-			vars:        nil,
+			vars:        map[string]string{},
 			host:        "",
 			path:        "",
 			methods:     []string{},
@@ -770,7 +770,7 @@ func TestQueries(t *testing.T) {
 			title:           "Queries route, match",
 			route:           new(Route).Queries("foo", "bar", "baz", "ding"),
 			request:         newRequest("GET", "http://localhost?foo=bar&baz=ding"),
-			vars:            nil,
+			vars:            map[string]string{},
 			host:            "",
 			path:            "",
 			query:           "foo=bar&baz=ding",
@@ -782,7 +782,7 @@ func TestQueries(t *testing.T) {
 			title:           "Queries route, match with a query string",
 			route:           new(Route).Host("www.example.com").Path("/api").Queries("foo", "bar", "baz", "ding"),
 			request:         newRequest("GET", "http://www.example.com/api?foo=bar&baz=ding"),
-			vars:            nil,
+			vars:            map[string]string{},
 			host:            "",
 			path:            "",
 			query:           "foo=bar&baz=ding",
@@ -796,7 +796,7 @@ func TestQueries(t *testing.T) {
 			title:           "Queries route, match with a query string out of order",
 			route:           new(Route).Host("www.example.com").Path("/api").Queries("foo", "bar", "baz", "ding"),
 			request:         newRequest("GET", "http://www.example.com/api?baz=ding&foo=bar"),
-			vars:            nil,
+			vars:            map[string]string{},
 			host:            "",
 			path:            "",
 			query:           "foo=bar&baz=ding",
@@ -810,7 +810,7 @@ func TestQueries(t *testing.T) {
 			title:           "Queries route, bad query",
 			route:           new(Route).Queries("foo", "bar", "baz", "ding"),
 			request:         newRequest("GET", "http://localhost?foo=bar&baz=dong"),
-			vars:            nil,
+			vars:            map[string]string{},
 			host:            "",
 			path:            "",
 			queriesTemplate: "foo=bar,baz=ding",
@@ -857,7 +857,7 @@ func TestQueries(t *testing.T) {
 			title:           "Queries route with regexp pattern, regexp does not match",
 			route:           new(Route).Queries("foo", "{v1:[0-9]+}"),
 			request:         newRequest("GET", "http://localhost?foo=a"),
-			vars:            nil,
+			vars:            map[string]string{},
 			host:            "",
 			path:            "",
 			queriesTemplate: "foo={v1:[0-9]+}",
@@ -892,7 +892,7 @@ func TestQueries(t *testing.T) {
 			title:           "Queries route with regexp pattern with quantifier, regexp does not match",
 			route:           new(Route).Queries("foo", "{v1:[0-9]{1}}"),
 			request:         newRequest("GET", "http://localhost?foo=12"),
-			vars:            nil,
+			vars:            map[string]string{},
 			host:            "",
 			path:            "",
 			queriesTemplate: "foo={v1:[0-9]{1}}",
@@ -915,7 +915,7 @@ func TestQueries(t *testing.T) {
 			title:           "Queries route with regexp pattern with quantifier, additional variable in query string, regexp does not match",
 			route:           new(Route).Queries("foo", "{v1:[0-9]{1}}"),
 			request:         newRequest("GET", "http://localhost?foo=12"),
-			vars:            nil,
+			vars:            map[string]string{},
 			host:            "",
 			path:            "",
 			queriesTemplate: "foo={v1:[0-9]{1}}",
@@ -974,7 +974,7 @@ func TestQueries(t *testing.T) {
 			title:           "Queries route with empty value, should match",
 			route:           new(Route).Queries("foo", ""),
 			request:         newRequest("GET", "http://localhost?foo=bar"),
-			vars:            nil,
+			vars:            map[string]string{},
 			host:            "",
 			path:            "",
 			query:           "foo=",
@@ -986,7 +986,7 @@ func TestQueries(t *testing.T) {
 			title:           "Queries route with empty value and no parameter in request, should not match",
 			route:           new(Route).Queries("foo", ""),
 			request:         newRequest("GET", "http://localhost"),
-			vars:            nil,
+			vars:            map[string]string{},
 			host:            "",
 			path:            "",
 			queriesTemplate: "foo=",
@@ -997,7 +997,7 @@ func TestQueries(t *testing.T) {
 			title:           "Queries route with empty value and empty parameter in request, should match",
 			route:           new(Route).Queries("foo", ""),
 			request:         newRequest("GET", "http://localhost?foo="),
-			vars:            nil,
+			vars:            map[string]string{},
 			host:            "",
 			path:            "",
 			query:           "foo=",
@@ -1009,7 +1009,7 @@ func TestQueries(t *testing.T) {
 			title:           "Queries route with overlapping value, should not match",
 			route:           new(Route).Queries("foo", "bar"),
 			request:         newRequest("GET", "http://localhost?foo=barfoo"),
-			vars:            nil,
+			vars:            map[string]string{},
 			host:            "",
 			path:            "",
 			queriesTemplate: "foo=bar",
@@ -1020,7 +1020,7 @@ func TestQueries(t *testing.T) {
 			title:           "Queries route with no parameter in request, should not match",
 			route:           new(Route).Queries("foo", "{bar}"),
 			request:         newRequest("GET", "http://localhost"),
-			vars:            nil,
+			vars:            map[string]string{},
 			host:            "",
 			path:            "",
 			queriesTemplate: "foo={bar}",
@@ -1043,7 +1043,7 @@ func TestQueries(t *testing.T) {
 			title:           "Queries route, bad submatch",
 			route:           new(Route).Queries("foo", "bar", "baz", "ding"),
 			request:         newRequest("GET", "http://localhost?fffoo=bar&baz=dingggg"),
-			vars:            nil,
+			vars:            map[string]string{},
 			host:            "",
 			path:            "",
 			queriesTemplate: "foo=bar,baz=ding",
@@ -1136,7 +1136,7 @@ func TestMatcherFunc(t *testing.T) {
 			title:       "MatchFunc route, match",
 			route:       new(Route).MatcherFunc(m),
 			request:     newRequest("GET", "http://aaa.bbb.ccc"),
-			vars:        nil,
+			vars:        map[string]string{},
 			host:        "",
 			path:        "",
 			shouldMatch: true,
@@ -1145,7 +1145,7 @@ func TestMatcherFunc(t *testing.T) {
 			title:       "MatchFunc route, non-match",
 			route:       new(Route).MatcherFunc(m),
 			request:     newRequest("GET", "http://aaa.222.ccc"),
-			vars:        nil,
+			vars:        map[string]string{},
 			host:        "",
 			path:        "",
 			shouldMatch: false,
@@ -1246,7 +1246,7 @@ func TestSubRouter(t *testing.T) {
 		{
 			route:        subrouter3.Path("/"),
 			request:      newRequest("GET", "http://localhost/foo/"),
-			vars:         nil,
+			vars:         map[string]string{},
 			host:         "",
 			path:         "/foo/",
 			pathTemplate: `/foo/`,
@@ -1255,7 +1255,7 @@ func TestSubRouter(t *testing.T) {
 		{
 			route:        subrouter3.Path(""),
 			request:      newRequest("GET", "http://localhost/foo"),
-			vars:         nil,
+			vars:         map[string]string{},
 			host:         "",
 			path:         "/foo",
 			pathTemplate: `/foo`,
@@ -1265,7 +1265,7 @@ func TestSubRouter(t *testing.T) {
 		{
 			route:        subrouter4.Path("/"),
 			request:      newRequest("GET", "http://localhost/foo/bar/"),
-			vars:         nil,
+			vars:         map[string]string{},
 			host:         "",
 			path:         "/foo/bar/",
 			pathTemplate: `/foo/bar/`,
@@ -1274,7 +1274,7 @@ func TestSubRouter(t *testing.T) {
 		{
 			route:        subrouter4.Path(""),
 			request:      newRequest("GET", "http://localhost/foo/bar"),
-			vars:         nil,
+			vars:         map[string]string{},
 			host:         "",
 			path:         "/foo/bar",
 			pathTemplate: `/foo/bar`,
@@ -1302,7 +1302,7 @@ func TestSubRouter(t *testing.T) {
 			title:        "Mismatch method specified on parent route",
 			route:        new(Route).Methods("POST").PathPrefix("/foo").Subrouter().Path("/"),
 			request:      newRequest("GET", "http://localhost/foo/"),
-			vars:         nil,
+			vars:         map[string]string{},
 			host:         "",
 			path:         "/foo/",
 			pathTemplate: `/foo/`,
@@ -1312,7 +1312,7 @@ func TestSubRouter(t *testing.T) {
 			title:        "Match method specified on parent route",
 			route:        new(Route).Methods("POST").PathPrefix("/foo").Subrouter().Path("/"),
 			request:      newRequest("POST", "http://localhost/foo/"),
-			vars:         nil,
+			vars:         map[string]string{},
 			host:         "",
 			path:         "/foo/",
 			pathTemplate: `/foo/`,
@@ -1322,7 +1322,7 @@ func TestSubRouter(t *testing.T) {
 			title:        "Mismatch scheme specified on parent route",
 			route:        new(Route).Schemes("https").Subrouter().PathPrefix("/"),
 			request:      newRequest("GET", "http://localhost/"),
-			vars:         nil,
+			vars:         map[string]string{},
 			host:         "",
 			path:         "/",
 			pathTemplate: `/`,
@@ -1332,7 +1332,7 @@ func TestSubRouter(t *testing.T) {
 			title:        "Match scheme specified on parent route",
 			route:        new(Route).Schemes("http").Subrouter().PathPrefix("/"),
 			request:      newRequest("GET", "http://localhost/"),
-			vars:         nil,
+			vars:         map[string]string{},
 			host:         "",
 			path:         "/",
 			pathTemplate: `/`,
@@ -1342,7 +1342,7 @@ func TestSubRouter(t *testing.T) {
 			title:        "No match header specified on parent route",
 			route:        new(Route).Headers("X-Forwarded-Proto", "https").Subrouter().PathPrefix("/"),
 			request:      newRequest("GET", "http://localhost/"),
-			vars:         nil,
+			vars:         map[string]string{},
 			host:         "",
 			path:         "/",
 			pathTemplate: `/`,
@@ -1352,7 +1352,7 @@ func TestSubRouter(t *testing.T) {
 			title:        "Header mismatch value specified on parent route",
 			route:        new(Route).Headers("X-Forwarded-Proto", "https").Subrouter().PathPrefix("/"),
 			request:      newRequestWithHeaders("GET", "http://localhost/", "X-Forwarded-Proto", "http"),
-			vars:         nil,
+			vars:         map[string]string{},
 			host:         "",
 			path:         "/",
 			pathTemplate: `/`,
@@ -1362,7 +1362,7 @@ func TestSubRouter(t *testing.T) {
 			title:        "Header match value specified on parent route",
 			route:        new(Route).Headers("X-Forwarded-Proto", "https").Subrouter().PathPrefix("/"),
 			request:      newRequestWithHeaders("GET", "http://localhost/", "X-Forwarded-Proto", "https"),
-			vars:         nil,
+			vars:         map[string]string{},
 			host:         "",
 			path:         "/",
 			pathTemplate: `/`,
@@ -1372,7 +1372,7 @@ func TestSubRouter(t *testing.T) {
 			title:        "Query specified on parent route not present",
 			route:        new(Route).Headers("key", "foobar").Subrouter().PathPrefix("/"),
 			request:      newRequest("GET", "http://localhost/"),
-			vars:         nil,
+			vars:         map[string]string{},
 			host:         "",
 			path:         "/",
 			pathTemplate: `/`,
@@ -1382,7 +1382,7 @@ func TestSubRouter(t *testing.T) {
 			title:        "Query mismatch value specified on parent route",
 			route:        new(Route).Queries("key", "foobar").Subrouter().PathPrefix("/"),
 			request:      newRequest("GET", "http://localhost/?key=notfoobar"),
-			vars:         nil,
+			vars:         map[string]string{},
 			host:         "",
 			path:         "/",
 			pathTemplate: `/`,
@@ -1392,7 +1392,7 @@ func TestSubRouter(t *testing.T) {
 			title:        "Query match value specified on subroute",
 			route:        new(Route).Queries("key", "foobar").Subrouter().PathPrefix("/"),
 			request:      newRequest("GET", "http://localhost/?key=foobar"),
-			vars:         nil,
+			vars:         map[string]string{},
 			host:         "",
 			path:         "/",
 			pathTemplate: `/`,
@@ -1473,7 +1473,7 @@ func TestStrictSlash(t *testing.T) {
 			title:          "Redirect path without slash",
 			route:          r.NewRoute().Path("/111/"),
 			request:        newRequest("GET", "http://localhost/111"),
-			vars:           nil,
+			vars:           map[string]string{},
 			host:           "",
 			path:           "/111/",
 			shouldMatch:    true,
@@ -1483,7 +1483,7 @@ func TestStrictSlash(t *testing.T) {
 			title:          "Do not redirect path with slash",
 			route:          r.NewRoute().Path("/111/"),
 			request:        newRequest("GET", "http://localhost/111/"),
-			vars:           nil,
+			vars:           map[string]string{},
 			host:           "",
 			path:           "/111/",
 			shouldMatch:    true,
@@ -1493,7 +1493,7 @@ func TestStrictSlash(t *testing.T) {
 			title:          "Redirect path with slash",
 			route:          r.NewRoute().Path("/111"),
 			request:        newRequest("GET", "http://localhost/111/"),
-			vars:           nil,
+			vars:           map[string]string{},
 			host:           "",
 			path:           "/111",
 			shouldMatch:    true,
@@ -1503,7 +1503,7 @@ func TestStrictSlash(t *testing.T) {
 			title:          "Do not redirect path without slash",
 			route:          r.NewRoute().Path("/111"),
 			request:        newRequest("GET", "http://localhost/111"),
-			vars:           nil,
+			vars:           map[string]string{},
 			host:           "",
 			path:           "/111",
 			shouldMatch:    true,
@@ -1513,7 +1513,7 @@ func TestStrictSlash(t *testing.T) {
 			title:          "Propagate StrictSlash to subrouters",
 			route:          r.NewRoute().PathPrefix("/static/").Subrouter().Path("/images/"),
 			request:        newRequest("GET", "http://localhost/static/images"),
-			vars:           nil,
+			vars:           map[string]string{},
 			host:           "",
 			path:           "/static/images/",
 			shouldMatch:    true,
@@ -1523,7 +1523,7 @@ func TestStrictSlash(t *testing.T) {
 			title:          "Ignore StrictSlash for path prefix",
 			route:          r.NewRoute().PathPrefix("/static/"),
 			request:        newRequest("GET", "http://localhost/static/logo.png"),
-			vars:           nil,
+			vars:           map[string]string{},
 			host:           "",
 			path:           "/static/",
 			shouldMatch:    true,
@@ -2913,128 +2913,6 @@ func TestGetVarNames(t *testing.T) {
 	}
 }
 
-func getPopulateContextTestCases() []struct {
-	name                 string
-	path                 string
-	omitRouteFromContext bool
-	wantVar              string
-	wantStaticRoute      bool
-	wantDynamicRoute     bool
-} {
-	return []struct {
-		name                 string
-		path                 string
-		omitRouteFromContext bool
-		wantVar              string
-		wantStaticRoute      bool
-		wantDynamicRoute     bool
-	}{
-		{
-			name:            "no populated vars",
-			path:            "/static",
-			wantVar:         "",
-			wantStaticRoute: true,
-		},
-		{
-			name:             "empty var",
-			path:             "/dynamic/",
-			wantVar:          "",
-			wantDynamicRoute: true,
-		},
-		{
-			name:             "populated vars",
-			path:             "/dynamic/foo",
-			wantVar:          "foo",
-			wantDynamicRoute: true,
-		},
-		{
-			name:                 "omit route /static",
-			path:                 "/static",
-			omitRouteFromContext: true,
-			wantVar:              "",
-			wantStaticRoute:      false,
-		},
-		{
-			name:                 "omit route /dynamic",
-			path:                 "/dynamic/",
-			omitRouteFromContext: true,
-			wantVar:              "",
-			wantDynamicRoute:     false,
-		},
-	}
-}
-
-func TestPopulateContext(t *testing.T) {
-	testCases := getPopulateContextTestCases()
-	for _, tc := range testCases {
-		t.Run(tc.name, func(t *testing.T) {
-			matched := false
-			r := NewRouter()
-			r.OmitRouteFromContext(tc.omitRouteFromContext)
-			var static *Route
-			var dynamic *Route
-			fn := func(w http.ResponseWriter, r *http.Request) {
-				matched = true
-				if got := Vars(r)["x"]; got != tc.wantVar {
-					t.Fatalf("wantVar=%q, got=%q", tc.wantVar, got)
-				}
-				switch {
-				case tc.wantDynamicRoute:
-					r2 := CurrentRoute(r)
-					if r2 != dynamic || r2.GetName() != "dynamic" {
-						t.Fatalf("expected dynmic route in ctx, got %v", r2)
-					}
-				case tc.wantStaticRoute:
-					r2 := CurrentRoute(r)
-					if r2 != static || r2.GetName() != "static" {
-						t.Fatalf("expected static route in ctx, got %v", r2)
-					}
-				default:
-					if r2 := CurrentRoute(r); r2 != nil {
-						t.Fatalf("expected no route in ctx, got %v", r2)
-					}
-				}
-				w.WriteHeader(http.StatusNoContent)
-			}
-			static = r.Name("static").Path("/static").HandlerFunc(fn)
-			dynamic = r.Name("dynamic").Path("/dynamic/{x:.*}").HandlerFunc(fn)
-			req := newRequest(http.MethodGet, "http://localhost"+tc.path)
-			rec := NewRecorder()
-			r.ServeHTTP(rec, req)
-			if !matched {
-				t.Fatal("Expected route to match")
-			}
-		})
-	}
-}
-
-func BenchmarkPopulateContext(b *testing.B) {
-	testCases := getPopulateContextTestCases()
-	for _, tc := range testCases {
-		b.Run(tc.name, func(b *testing.B) {
-			matched := false
-			r := NewRouter()
-			r.OmitRouteFromContext(tc.omitRouteFromContext)
-			fn := func(w http.ResponseWriter, r *http.Request) {
-				matched = true
-				w.WriteHeader(http.StatusNoContent)
-			}
-			r.Name("static").Path("/static").HandlerFunc(fn)
-			r.Name("dynamic").Path("/dynamic/{x:.*}").HandlerFunc(fn)
-			req := newRequest(http.MethodGet, "http://localhost"+tc.path)
-			rec := NewRecorder()
-			b.ReportAllocs()
-			b.ResetTimer()
-			for i := 0; i < b.N; i++ {
-				r.ServeHTTP(rec, req)
-			}
-			if !matched {
-				b.Fatal("Expected route to match")
-			}
-		})
-	}
-}
-
 // mapToPairs converts a string map to a slice of string pairs
 func mapToPairs(m map[string]string) []string {
 	var i int
diff --git a/regexp.go b/regexp.go
index b577073..5d05cfa 100644
--- a/regexp.go
+++ b/regexp.go
@@ -324,19 +324,17 @@ type routeRegexpGroup struct {
 func (v routeRegexpGroup) setMatch(req *http.Request, m *RouteMatch, r *Route) {
 	// Store host variables.
 	if v.host != nil {
-		if len(v.host.varsN) > 0 {
-			host := getHost(req)
-			if v.host.wildcardHostPort {
-				// Don't be strict on the port match
-				if i := strings.Index(host, ":"); i != -1 {
-					host = host[:i]
-				}
-			}
-			matches := v.host.regexp.FindStringSubmatchIndex(host)
-			if len(matches) > 0 {
-				m.Vars = extractVars(host, matches, v.host.varsN, m.Vars)
+		host := getHost(req)
+		if v.host.wildcardHostPort {
+			// Don't be strict on the port match
+			if i := strings.Index(host, ":"); i != -1 {
+				host = host[:i]
 			}
 		}
+		matches := v.host.regexp.FindStringSubmatchIndex(host)
+		if len(matches) > 0 {
+			extractVars(host, matches, v.host.varsN, m.Vars)
+		}
 	}
 	path := req.URL.Path
 	if r.useEncodedPath {
@@ -344,36 +342,31 @@ func (v routeRegexpGroup) setMatch(req *http.Request, m *RouteMatch, r *Route) {
 	}
 	// Store path variables.
 	if v.path != nil {
-		if len(v.path.varsN) > 0 {
-			matches := v.path.regexp.FindStringSubmatchIndex(path)
-			if len(matches) > 0 {
-				m.Vars = extractVars(path, matches, v.path.varsN, m.Vars)
-			}
-		}
-		// Check if we should redirect.
-		if v.path.options.strictSlash {
-			p1 := strings.HasSuffix(path, "/")
-			p2 := strings.HasSuffix(v.path.template, "/")
-			if p1 != p2 {
-				p := req.URL.Path
-				if p1 {
-					p = p[:len(p)-1]
-				} else {
-					p += "/"
+		matches := v.path.regexp.FindStringSubmatchIndex(path)
+		if len(matches) > 0 {
+			extractVars(path, matches, v.path.varsN, m.Vars)
+			// Check if we should redirect.
+			if v.path.options.strictSlash {
+				p1 := strings.HasSuffix(path, "/")
+				p2 := strings.HasSuffix(v.path.template, "/")
+				if p1 != p2 {
+					u, _ := url.Parse(req.URL.String())
+					if p1 {
+						u.Path = u.Path[:len(u.Path)-1]
+					} else {
+						u.Path += "/"
+					}
+					m.Handler = http.RedirectHandler(u.String(), http.StatusMovedPermanently)
 				}
-				u := replaceURLPath(req.URL, p)
-				m.Handler = http.RedirectHandler(u, http.StatusMovedPermanently)
 			}
 		}
 	}
 	// Store query string variables.
 	for _, q := range v.queries {
-		if len(q.varsN) > 0 {
-			queryURL := q.getURLQuery(req)
-			matches := q.regexp.FindStringSubmatchIndex(queryURL)
-			if len(matches) > 0 {
-				m.Vars = extractVars(queryURL, matches, q.varsN, m.Vars)
-			}
+		queryURL := q.getURLQuery(req)
+		matches := q.regexp.FindStringSubmatchIndex(queryURL)
+		if len(matches) > 0 {
+			extractVars(queryURL, matches, q.varsN, m.Vars)
 		}
 	}
 }
@@ -388,12 +381,8 @@ func getHost(r *http.Request) string {
 	return r.Host
 }
 
-func extractVars(input string, matches []int, names []string, output map[string]string) map[string]string {
+func extractVars(input string, matches []int, names []string, output map[string]string) {
 	for i, name := range names {
-		if output == nil {
-			output = make(map[string]string, len(names))
-		}
 		output[name] = input[matches[2*i+2]:matches[2*i+3]]
 	}
-	return output
 }
diff --git a/route.go b/route.go
index 8a9e754..e8f11df 100644
--- a/route.go
+++ b/route.go
@@ -98,6 +98,9 @@ func (r *Route) Match(req *http.Request, match *RouteMatch) bool {
 	if match.Handler == nil {
 		match.Handler = r.handler
 	}
+	if match.Vars == nil {
+		match.Vars = make(map[string]string)
+	}
 
 	// Set variables.
 	r.regexp.setMatch(req, match, r)
