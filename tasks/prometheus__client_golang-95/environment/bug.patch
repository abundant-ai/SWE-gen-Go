diff --git a/README.md b/README.md
index 0808dc5..7d1e5a8 100644
--- a/README.md
+++ b/README.md
@@ -8,7 +8,7 @@ continue your journey:
   1. See the [exposition library](prometheus/README.md) if you want to
      export metrics to a Prometheus server or pushgateway
 
-  2. See the [consumption library](https://godoc.org/github.com/prometheus/client_golang/extraction) if you want to
+  2. See the [consumption library](extraction/README.md) if you want to
      process metrics exported by a Prometheus client. (The Prometheus server
      is using that library.)
 
diff --git a/prometheus/summary.go b/prometheus/summary.go
index dd336c5..a731f4e 100644
--- a/prometheus/summary.go
+++ b/prometheus/summary.go
@@ -16,7 +16,6 @@ package prometheus
 import (
 	"fmt"
 	"hash/fnv"
-	"math"
 	"sort"
 	"sync"
 	"time"
@@ -278,8 +277,10 @@ func (s *summary) Write(out *dto.Metric) error {
 
 	s.bufMtx.Lock()
 	s.mtx.Lock()
-	// Swap bufs even if hotBuf is empty to set new hotBufExpTime.
-	s.swapBufs(time.Now())
+
+	if len(s.hotBuf) != 0 {
+		s.swapBufs(time.Now())
+	}
 	s.bufMtx.Unlock()
 
 	s.flushColdBuf()
@@ -287,15 +288,9 @@ func (s *summary) Write(out *dto.Metric) error {
 	sum.SampleSum = proto.Float64(s.sum)
 
 	for _, rank := range s.sortedObjectives {
-		var q float64
-		if s.headStream.Count() == 0 {
-			q = math.NaN()
-		} else {
-			q = s.headStream.Query(rank)
-		}
 		qs = append(qs, &dto.Quantile{
 			Quantile: proto.Float64(rank),
-			Value:    proto.Float64(q),
+			Value:    proto.Float64(s.headStream.Query(rank)),
 		})
 	}
 
diff --git a/prometheus/summary_test.go b/prometheus/summary_test.go
index 0790cdf..40d05fa 100644
--- a/prometheus/summary_test.go
+++ b/prometheus/summary_test.go
@@ -289,11 +289,6 @@ func TestSummaryVecConcurrency(t *testing.T) {
 }
 
 func TestSummaryDecay(t *testing.T) {
-	if testing.Short() {
-		t.Skip("Skipping test in short mode.")
-		// More because it depends on timing than because it is particularly long...
-	}
-
 	sum := NewSummary(SummaryOpts{
 		Name:       "test_summary",
 		Help:       "helpless",
@@ -320,12 +315,6 @@ func TestSummaryDecay(t *testing.T) {
 		}
 	}
 	tick.Stop()
-	// Wait for MaxAge without observations and make sure quantiles are NaN.
-	time.Sleep(100 * time.Millisecond)
-	sum.Write(m)
-	if got := *m.Summary.Quantile[0].Value; !math.IsNaN(got) {
-		t.Errorf("got %f, want NaN after expiration", got)
-	}
 }
 
 func getBounds(vars []float64, q, Îµ float64) (min, max float64) {
