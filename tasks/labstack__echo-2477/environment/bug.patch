diff --git a/middleware/rate_limiter.go b/middleware/rate_limiter.go
index 1d24df5..f7fae83 100644
--- a/middleware/rate_limiter.go
+++ b/middleware/rate_limiter.go
@@ -160,8 +160,6 @@ type (
 		burst       int
 		expiresIn   time.Duration
 		lastCleanup time.Time
-
-		timeNow func() time.Time
 	}
 	// Visitor signifies a unique user's limiter details
 	Visitor struct {
@@ -221,8 +219,7 @@ func NewRateLimiterMemoryStoreWithConfig(config RateLimiterMemoryStoreConfig) (s
 		store.burst = int(config.Rate)
 	}
 	store.visitors = make(map[string]*Visitor)
-	store.timeNow = time.Now
-	store.lastCleanup = store.timeNow()
+	store.lastCleanup = now()
 	return
 }
 
@@ -247,13 +244,12 @@ func (store *RateLimiterMemoryStore) Allow(identifier string) (bool, error) {
 		limiter.Limiter = rate.NewLimiter(store.rate, store.burst)
 		store.visitors[identifier] = limiter
 	}
-	now := store.timeNow()
-	limiter.lastSeen = now
-	if now.Sub(store.lastCleanup) > store.expiresIn {
+	limiter.lastSeen = now()
+	if now().Sub(store.lastCleanup) > store.expiresIn {
 		store.cleanupStaleVisitors()
 	}
 	store.mutex.Unlock()
-	return limiter.AllowN(store.timeNow(), 1), nil
+	return limiter.AllowN(now(), 1), nil
 }
 
 /*
@@ -262,9 +258,14 @@ of users who haven't visited again after the configured expiry time has elapsed
 */
 func (store *RateLimiterMemoryStore) cleanupStaleVisitors() {
 	for id, visitor := range store.visitors {
-		if store.timeNow().Sub(visitor.lastSeen) > store.expiresIn {
+		if now().Sub(visitor.lastSeen) > store.expiresIn {
 			delete(store.visitors, id)
 		}
 	}
-	store.lastCleanup = store.timeNow()
+	store.lastCleanup = now()
 }
+
+/*
+actual time method which is mocked in test file
+*/
+var now = time.Now
diff --git a/middleware/rate_limiter_test.go b/middleware/rate_limiter_test.go
index 0f7c914..89d9a6e 100644
--- a/middleware/rate_limiter_test.go
+++ b/middleware/rate_limiter_test.go
@@ -2,6 +2,7 @@ package middleware
 
 import (
 	"errors"
+	"fmt"
 	"math/rand"
 	"net/http"
 	"net/http/httptest"
@@ -339,7 +340,7 @@ func TestRateLimiterMemoryStore_Allow(t *testing.T) {
 
 	for i, tc := range testCases {
 		t.Logf("Running testcase #%d => %v", i, time.Duration(i)*220*time.Millisecond)
-		inMemoryStore.timeNow = func() time.Time {
+		now = func() time.Time {
 			return time.Date(2009, time.November, 10, 23, 0, 0, 0, time.UTC).Add(time.Duration(i) * 220 * time.Millisecond)
 		}
 		allowed, _ := inMemoryStore.Allow(tc.id)
@@ -349,22 +350,24 @@ func TestRateLimiterMemoryStore_Allow(t *testing.T) {
 
 func TestRateLimiterMemoryStore_cleanupStaleVisitors(t *testing.T) {
 	var inMemoryStore = NewRateLimiterMemoryStoreWithConfig(RateLimiterMemoryStoreConfig{Rate: 1, Burst: 3})
+	now = time.Now
+	fmt.Println(now())
 	inMemoryStore.visitors = map[string]*Visitor{
 		"A": {
 			Limiter:  rate.NewLimiter(1, 3),
-			lastSeen: time.Now(),
+			lastSeen: now(),
 		},
 		"B": {
 			Limiter:  rate.NewLimiter(1, 3),
-			lastSeen: time.Now().Add(-1 * time.Minute),
+			lastSeen: now().Add(-1 * time.Minute),
 		},
 		"C": {
 			Limiter:  rate.NewLimiter(1, 3),
-			lastSeen: time.Now().Add(-5 * time.Minute),
+			lastSeen: now().Add(-5 * time.Minute),
 		},
 		"D": {
 			Limiter:  rate.NewLimiter(1, 3),
-			lastSeen: time.Now().Add(-10 * time.Minute),
+			lastSeen: now().Add(-10 * time.Minute),
 		},
 	}
 
diff --git a/middleware/request_logger.go b/middleware/request_logger.go
index ce76230..8e312e8 100644
--- a/middleware/request_logger.go
+++ b/middleware/request_logger.go
@@ -225,7 +225,7 @@ func (config RequestLoggerConfig) ToMiddleware() (echo.MiddlewareFunc, error) {
 	if config.Skipper == nil {
 		config.Skipper = DefaultSkipper
 	}
-	now := time.Now
+	now = time.Now
 	if config.timeNow != nil {
 		now = config.timeNow
 	}
