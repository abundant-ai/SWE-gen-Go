diff --git a/api/client.go b/api/client.go
index 53b87ae..2e6a551 100644
--- a/api/client.go
+++ b/api/client.go
@@ -25,7 +25,41 @@ import (
 	"time"
 )
 
-type Warnings []string
+func NewErrorAPI(err error, warnings []string) Error {
+	if err == nil && warnings == nil {
+		return nil
+	}
+	return &ErrorAPI{err, warnings}
+}
+
+type ErrorAPI struct {
+	err      error
+	warnings []string
+}
+
+func (w *ErrorAPI) Err() error {
+	return w.err
+}
+
+func (w *ErrorAPI) Error() string {
+	if w.err != nil {
+		return w.err.Error()
+	}
+	return "Warnings: " + strings.Join(w.warnings, " , ")
+}
+
+func (w *ErrorAPI) Warnings() []string {
+	return w.warnings
+}
+
+// Error encapsulates an error + warning
+type Error interface {
+	error
+	// Err returns the underlying error.
+	Err() error
+	// Warnings returns a list of warnings.
+	Warnings() []string
+}
 
 // DefaultRoundTripper is used if no RoundTripper is set in Config.
 var DefaultRoundTripper http.RoundTripper = &http.Transport{
@@ -57,30 +91,30 @@ func (cfg *Config) roundTripper() http.RoundTripper {
 // Client is the interface for an API client.
 type Client interface {
 	URL(ep string, args map[string]string) *url.URL
-	Do(context.Context, *http.Request) (*http.Response, []byte, Warnings, error)
+	Do(context.Context, *http.Request) (*http.Response, []byte, Error)
 }
 
 // DoGetFallback will attempt to do the request as-is, and on a 405 it will fallback to a GET request.
-func DoGetFallback(c Client, ctx context.Context, u *url.URL, args url.Values) (*http.Response, []byte, Warnings, error) {
+func DoGetFallback(c Client, ctx context.Context, u *url.URL, args url.Values) (*http.Response, []byte, Error) {
 	req, err := http.NewRequest(http.MethodPost, u.String(), strings.NewReader(args.Encode()))
 	if err != nil {
-		return nil, nil, nil, err
+		return nil, nil, NewErrorAPI(err, nil)
 	}
 	req.Header.Set("Content-Type", "application/x-www-form-urlencoded")
 
-	resp, body, warnings, err := c.Do(ctx, req)
+	resp, body, err := c.Do(ctx, req)
 	if resp != nil && resp.StatusCode == http.StatusMethodNotAllowed {
 		u.RawQuery = args.Encode()
 		req, err = http.NewRequest(http.MethodGet, u.String(), nil)
 		if err != nil {
-			return nil, nil, warnings, err
+			return nil, nil, NewErrorAPI(err, nil)
 		}
 
 	} else {
 		if err != nil {
-			return resp, body, warnings, err
+			return resp, body, NewErrorAPI(err, nil)
 		}
-		return resp, body, warnings, nil
+		return resp, body, nil
 	}
 	return c.Do(ctx, req)
 }
@@ -120,7 +154,7 @@ func (c *httpClient) URL(ep string, args map[string]string) *url.URL {
 	return &u
 }
 
-func (c *httpClient) Do(ctx context.Context, req *http.Request) (*http.Response, []byte, Warnings, error) {
+func (c *httpClient) Do(ctx context.Context, req *http.Request) (*http.Response, []byte, Error) {
 	if ctx != nil {
 		req = req.WithContext(ctx)
 	}
@@ -132,7 +166,7 @@ func (c *httpClient) Do(ctx context.Context, req *http.Request) (*http.Response,
 	}()
 
 	if err != nil {
-		return nil, nil, nil, err
+		return nil, nil, NewErrorAPI(err, nil)
 	}
 
 	var body []byte
@@ -152,5 +186,5 @@ func (c *httpClient) Do(ctx context.Context, req *http.Request) (*http.Response,
 	case <-done:
 	}
 
-	return resp, body, nil, err
+	return resp, body, NewErrorAPI(err, nil)
 }
diff --git a/api/client_test.go b/api/client_test.go
index b3c95ee..b0ea306 100644
--- a/api/client_test.go
+++ b/api/client_test.go
@@ -152,7 +152,7 @@ func TestDoGetFallback(t *testing.T) {
 	client := &httpClient{client: *(server.Client())}
 
 	// Do a post, and ensure that the post succeeds.
-	_, b, _, err := DoGetFallback(client, context.TODO(), u, v)
+	_, b, err := DoGetFallback(client, context.TODO(), u, v)
 	if err != nil {
 		t.Fatalf("Error doing local request: %v", err)
 	}
@@ -169,7 +169,7 @@ func TestDoGetFallback(t *testing.T) {
 
 	// Do a fallbcak to a get.
 	u.Path = "/blockPost"
-	_, b, _, err = DoGetFallback(client, context.TODO(), u, v)
+	_, b, err = DoGetFallback(client, context.TODO(), u, v)
 	if err != nil {
 		t.Fatalf("Error doing local request: %v", err)
 	}
diff --git a/api/prometheus/v1/api.go b/api/prometheus/v1/api.go
index 694c7cd..28cdaef 100644
--- a/api/prometheus/v1/api.go
+++ b/api/prometheus/v1/api.go
@@ -22,6 +22,7 @@ import (
 	"math"
 	"net/http"
 	"strconv"
+	"strings"
 	"time"
 	"unsafe"
 
@@ -196,13 +197,26 @@ const (
 
 // Error is an error returned by the API.
 type Error struct {
-	Type   ErrorType
-	Msg    string
-	Detail string
+	Type     ErrorType
+	Msg      string
+	Detail   string
+	warnings []string
 }
 
 func (e *Error) Error() string {
-	return fmt.Sprintf("%s: %s", e.Type, e.Msg)
+	if e.Type != "" || e.Msg != "" {
+		return fmt.Sprintf("%s: %s", e.Type, e.Msg)
+	}
+
+	return "Warnings: " + strings.Join(e.warnings, " , ")
+}
+
+func (w *Error) Err() error {
+	return w
+}
+
+func (w *Error) Warnings() []string {
+	return w.warnings
 }
 
 // Range represents a sliced time range.
@@ -216,34 +230,34 @@ type Range struct {
 // API provides bindings for Prometheus's v1 API.
 type API interface {
 	// Alerts returns a list of all active alerts.
-	Alerts(ctx context.Context) (AlertsResult, error)
+	Alerts(ctx context.Context) (AlertsResult, api.Error)
 	// AlertManagers returns an overview of the current state of the Prometheus alert manager discovery.
-	AlertManagers(ctx context.Context) (AlertManagersResult, error)
+	AlertManagers(ctx context.Context) (AlertManagersResult, api.Error)
 	// CleanTombstones removes the deleted data from disk and cleans up the existing tombstones.
-	CleanTombstones(ctx context.Context) error
+	CleanTombstones(ctx context.Context) api.Error
 	// Config returns the current Prometheus configuration.
-	Config(ctx context.Context) (ConfigResult, error)
+	Config(ctx context.Context) (ConfigResult, api.Error)
 	// DeleteSeries deletes data for a selection of series in a time range.
-	DeleteSeries(ctx context.Context, matches []string, startTime time.Time, endTime time.Time) error
+	DeleteSeries(ctx context.Context, matches []string, startTime time.Time, endTime time.Time) api.Error
 	// Flags returns the flag values that Prometheus was launched with.
-	Flags(ctx context.Context) (FlagsResult, error)
+	Flags(ctx context.Context) (FlagsResult, api.Error)
 	// LabelValues performs a query for the values of the given label.
-	LabelValues(ctx context.Context, label string) (model.LabelValues, error)
+	LabelValues(ctx context.Context, label string) (model.LabelValues, api.Error)
 	// Query performs a query for the given time.
-	Query(ctx context.Context, query string, ts time.Time) (model.Value, api.Warnings, error)
+	Query(ctx context.Context, query string, ts time.Time) (model.Value, api.Error)
 	// QueryRange performs a query for the given range.
-	QueryRange(ctx context.Context, query string, r Range) (model.Value, api.Warnings, error)
+	QueryRange(ctx context.Context, query string, r Range) (model.Value, api.Error)
 	// Series finds series by label matchers.
-	Series(ctx context.Context, matches []string, startTime time.Time, endTime time.Time) ([]model.LabelSet, error)
+	Series(ctx context.Context, matches []string, startTime time.Time, endTime time.Time) ([]model.LabelSet, api.Error)
 	// Snapshot creates a snapshot of all current data into snapshots/<datetime>-<rand>
 	// under the TSDB's data directory and returns the directory as response.
-	Snapshot(ctx context.Context, skipHead bool) (SnapshotResult, error)
+	Snapshot(ctx context.Context, skipHead bool) (SnapshotResult, api.Error)
 	// Rules returns a list of alerting and recording rules that are currently loaded.
-	Rules(ctx context.Context) (RulesResult, error)
+	Rules(ctx context.Context) (RulesResult, api.Error)
 	// Targets returns an overview of the current state of the Prometheus target discovery.
-	Targets(ctx context.Context) (TargetsResult, error)
+	Targets(ctx context.Context) (TargetsResult, api.Error)
 	// TargetsMetadata returns metadata about metrics currently scraped by the target.
-	TargetsMetadata(ctx context.Context, matchTarget string, metric string, limit string) ([]MetricMetadata, error)
+	TargetsMetadata(ctx context.Context, matchTarget string, metric string, limit string) ([]MetricMetadata, api.Error)
 }
 
 // AlertsResult contains the result from querying the alerts endpoint.
@@ -520,70 +534,73 @@ type httpAPI struct {
 	client api.Client
 }
 
-func (h *httpAPI) Alerts(ctx context.Context) (AlertsResult, error) {
+func (h *httpAPI) Alerts(ctx context.Context) (AlertsResult, api.Error) {
 	u := h.client.URL(epAlerts, nil)
 
 	req, err := http.NewRequest(http.MethodGet, u.String(), nil)
 	if err != nil {
-		return AlertsResult{}, err
+		return AlertsResult{}, api.NewErrorAPI(err, nil)
 	}
 
-	_, body, _, err := h.client.Do(ctx, req)
-	if err != nil {
-		return AlertsResult{}, err
+	_, body, apiErr := h.client.Do(ctx, req)
+	if apiErr != nil {
+		return AlertsResult{}, apiErr
 	}
 
 	var res AlertsResult
-	return res, json.Unmarshal(body, &res)
+	err = json.Unmarshal(body, &res)
+	return res, api.NewErrorAPI(err, nil)
 }
 
-func (h *httpAPI) AlertManagers(ctx context.Context) (AlertManagersResult, error) {
+func (h *httpAPI) AlertManagers(ctx context.Context) (AlertManagersResult, api.Error) {
 	u := h.client.URL(epAlertManagers, nil)
 
 	req, err := http.NewRequest(http.MethodGet, u.String(), nil)
 	if err != nil {
-		return AlertManagersResult{}, err
+		return AlertManagersResult{}, api.NewErrorAPI(err, nil)
 	}
 
-	_, body, _, err := h.client.Do(ctx, req)
-	if err != nil {
-		return AlertManagersResult{}, err
+	_, body, apiErr := h.client.Do(ctx, req)
+	if apiErr != nil {
+		return AlertManagersResult{}, apiErr
 	}
 
 	var res AlertManagersResult
-	return res, json.Unmarshal(body, &res)
+	err = json.Unmarshal(body, &res)
+	return res, api.NewErrorAPI(err, nil)
 }
 
-func (h *httpAPI) CleanTombstones(ctx context.Context) error {
+func (h *httpAPI) CleanTombstones(ctx context.Context) api.Error {
 	u := h.client.URL(epCleanTombstones, nil)
 
 	req, err := http.NewRequest(http.MethodPost, u.String(), nil)
 	if err != nil {
-		return err
+		return api.NewErrorAPI(err, nil)
 	}
 
-	_, _, _, err = h.client.Do(ctx, req)
-	return err
+	_, _, apiErr := h.client.Do(ctx, req)
+	return apiErr
 }
 
-func (h *httpAPI) Config(ctx context.Context) (ConfigResult, error) {
+func (h *httpAPI) Config(ctx context.Context) (ConfigResult, api.Error) {
 	u := h.client.URL(epConfig, nil)
 
 	req, err := http.NewRequest(http.MethodGet, u.String(), nil)
 	if err != nil {
-		return ConfigResult{}, err
+		return ConfigResult{}, api.NewErrorAPI(err, nil)
 	}
 
-	_, body, _, err := h.client.Do(ctx, req)
-	if err != nil {
-		return ConfigResult{}, err
+	_, body, apiErr := h.client.Do(ctx, req)
+	if apiErr != nil {
+		return ConfigResult{}, apiErr
 	}
 
 	var res ConfigResult
-	return res, json.Unmarshal(body, &res)
+	err = json.Unmarshal(body, &res)
+	return res, api.NewErrorAPI(err, nil)
 }
 
-func (h *httpAPI) DeleteSeries(ctx context.Context, matches []string, startTime time.Time, endTime time.Time) error {
+func (h *httpAPI) DeleteSeries(ctx context.Context, matches []string, startTime time.Time, endTime time.Time) api.Error {
 	u := h.client.URL(epDeleteSeries, nil)
 	q := u.Query()
 
@@ -598,45 +615,47 @@ func (h *httpAPI) DeleteSeries(ctx context.Context, matches []string, startTime
 
 	req, err := http.NewRequest(http.MethodPost, u.String(), nil)
 	if err != nil {
-		return err
+		return api.NewErrorAPI(err, nil)
 	}
 
-	_, _, _, err = h.client.Do(ctx, req)
-	return err
+	_, _, apiErr := h.client.Do(ctx, req)
+	return apiErr
 }
 
-func (h *httpAPI) Flags(ctx context.Context) (FlagsResult, error) {
+func (h *httpAPI) Flags(ctx context.Context) (FlagsResult, api.Error) {
 	u := h.client.URL(epFlags, nil)
 
 	req, err := http.NewRequest(http.MethodGet, u.String(), nil)
 	if err != nil {
-		return FlagsResult{}, err
+		return FlagsResult{}, api.NewErrorAPI(err, nil)
 	}
 
-	_, body, _, err := h.client.Do(ctx, req)
-	if err != nil {
-		return FlagsResult{}, err
+	_, body, apiErr := h.client.Do(ctx, req)
+	if apiErr != nil {
+		return FlagsResult{}, apiErr
 	}
 
 	var res FlagsResult
-	return res, json.Unmarshal(body, &res)
+	err = json.Unmarshal(body, &res)
+	return res, api.NewErrorAPI(err, nil)
 }
 
-func (h *httpAPI) LabelValues(ctx context.Context, label string) (model.LabelValues, error) {
+func (h *httpAPI) LabelValues(ctx context.Context, label string) (model.LabelValues, api.Error) {
 	u := h.client.URL(epLabelValues, map[string]string{"name": label})
 	req, err := http.NewRequest(http.MethodGet, u.String(), nil)
 	if err != nil {
-		return nil, err
+		return nil, api.NewErrorAPI(err, nil)
 	}
-	_, body, _, err := h.client.Do(ctx, req)
-	if err != nil {
-		return nil, err
+	_, body, apiErr := h.client.Do(ctx, req)
+	if apiErr != nil {
+		return nil, apiErr
 	}
 	var labelValues model.LabelValues
-	return labelValues, json.Unmarshal(body, &labelValues)
+	err = json.Unmarshal(body, &labelValues)
+	return labelValues, api.NewErrorAPI(err, nil)
 }
 
-func (h *httpAPI) Query(ctx context.Context, query string, ts time.Time) (model.Value, api.Warnings, error) {
+func (h *httpAPI) Query(ctx context.Context, query string, ts time.Time) (model.Value, api.Error) {
 	u := h.client.URL(epQuery, nil)
 	q := u.Query()
 
@@ -645,16 +664,16 @@ func (h *httpAPI) Query(ctx context.Context, query string, ts time.Time) (model.
 		q.Set("time", ts.Format(time.RFC3339Nano))
 	}
 
-	_, body, warnings, err := api.DoGetFallback(h.client, ctx, u, q)
-	if err != nil {
-		return nil, warnings, err
+	_, body, apiErr := api.DoGetFallback(h.client, ctx, u, q)
+	if apiErr != nil {
+		return nil, apiErr
 	}
 
 	var qres queryResult
-	return model.Value(qres.v), warnings, json.Unmarshal(body, &qres)
+	return model.Value(qres.v), api.NewErrorAPI(json.Unmarshal(body, &qres), nil)
 }
 
-func (h *httpAPI) QueryRange(ctx context.Context, query string, r Range) (model.Value, api.Warnings, error) {
+func (h *httpAPI) QueryRange(ctx context.Context, query string, r Range) (model.Value, api.Error) {
 	u := h.client.URL(epQueryRange, nil)
 	q := u.Query()
 
@@ -669,17 +688,17 @@ func (h *httpAPI) QueryRange(ctx context.Context, query string, r Range) (model.
 	q.Set("end", end)
 	q.Set("step", step)
 
-	_, body, warnings, err := api.DoGetFallback(h.client, ctx, u, q)
-	if err != nil {
-		return nil, warnings, err
+	_, body, apiErr := api.DoGetFallback(h.client, ctx, u, q)
+	if apiErr != nil {
+		return nil, apiErr
 	}
 
 	var qres queryResult
 
-	return model.Value(qres.v), warnings, json.Unmarshal(body, &qres)
+	return model.Value(qres.v), api.NewErrorAPI(json.Unmarshal(body, &qres), nil)
 }
 
-func (h *httpAPI) Series(ctx context.Context, matches []string, startTime time.Time, endTime time.Time) ([]model.LabelSet, error) {
+func (h *httpAPI) Series(ctx context.Context, matches []string, startTime time.Time, endTime time.Time) ([]model.LabelSet, api.Error) {
 	u := h.client.URL(epSeries, nil)
 	q := u.Query()
 
@@ -694,19 +713,20 @@ func (h *httpAPI) Series(ctx context.Context, matches []string, startTime time.T
 
 	req, err := http.NewRequest(http.MethodGet, u.String(), nil)
 	if err != nil {
-		return nil, err
+		return nil, api.NewErrorAPI(err, nil)
 	}
 
-	_, body, _, err := h.client.Do(ctx, req)
-	if err != nil {
-		return nil, err
+	_, body, apiErr := h.client.Do(ctx, req)
+	if apiErr != nil {
+		return nil, apiErr
 	}
 
 	var mset []model.LabelSet
-	return mset, json.Unmarshal(body, &mset)
+	err = json.Unmarshal(body, &mset)
+	return mset, api.NewErrorAPI(err, nil)
 }
 
-func (h *httpAPI) Snapshot(ctx context.Context, skipHead bool) (SnapshotResult, error) {
+func (h *httpAPI) Snapshot(ctx context.Context, skipHead bool) (SnapshotResult, api.Error) {
 	u := h.client.URL(epSnapshot, nil)
 	q := u.Query()
 
@@ -716,53 +736,56 @@ func (h *httpAPI) Snapshot(ctx context.Context, skipHead bool) (SnapshotResult,
 
 	req, err := http.NewRequest(http.MethodPost, u.String(), nil)
 	if err != nil {
-		return SnapshotResult{}, err
+		return SnapshotResult{}, api.NewErrorAPI(err, nil)
 	}
 
-	_, body, _, err := h.client.Do(ctx, req)
-	if err != nil {
-		return SnapshotResult{}, err
+	_, body, apiErr := h.client.Do(ctx, req)
+	if apiErr != nil {
+		return SnapshotResult{}, apiErr
 	}
 
 	var res SnapshotResult
-	return res, json.Unmarshal(body, &res)
+	err = json.Unmarshal(body, &res)
+	return res, api.NewErrorAPI(err, nil)
 }
 
-func (h *httpAPI) Rules(ctx context.Context) (RulesResult, error) {
+func (h *httpAPI) Rules(ctx context.Context) (RulesResult, api.Error) {
 	u := h.client.URL(epRules, nil)
 
 	req, err := http.NewRequest(http.MethodGet, u.String(), nil)
 	if err != nil {
-		return RulesResult{}, err
+		return RulesResult{}, api.NewErrorAPI(err, nil)
 	}
 
-	_, body, _, err := h.client.Do(ctx, req)
-	if err != nil {
-		return RulesResult{}, err
+	_, body, apiErr := h.client.Do(ctx, req)
+	if apiErr != nil {
+		return RulesResult{}, apiErr
 	}
 
 	var res RulesResult
-	return res, json.Unmarshal(body, &res)
+	err = json.Unmarshal(body, &res)
+	return res, api.NewErrorAPI(err, nil)
 }
 
-func (h *httpAPI) Targets(ctx context.Context) (TargetsResult, error) {
+func (h *httpAPI) Targets(ctx context.Context) (TargetsResult, api.Error) {
 	u := h.client.URL(epTargets, nil)
 
 	req, err := http.NewRequest(http.MethodGet, u.String(), nil)
 	if err != nil {
-		return TargetsResult{}, err
+		return TargetsResult{}, api.NewErrorAPI(err, nil)
 	}
 
-	_, body, _, err := h.client.Do(ctx, req)
-	if err != nil {
-		return TargetsResult{}, err
+	_, body, apiErr := h.client.Do(ctx, req)
+	if apiErr != nil {
+		return TargetsResult{}, apiErr
 	}
 
 	var res TargetsResult
-	return res, json.Unmarshal(body, &res)
+	err = json.Unmarshal(body, &res)
+	return res, api.NewErrorAPI(err, nil)
 }
 
-func (h *httpAPI) TargetsMetadata(ctx context.Context, matchTarget string, metric string, limit string) ([]MetricMetadata, error) {
+func (h *httpAPI) TargetsMetadata(ctx context.Context, matchTarget string, metric string, limit string) ([]MetricMetadata, api.Error) {
 	u := h.client.URL(epTargetsMetadata, nil)
 	q := u.Query()
 
@@ -774,16 +797,17 @@ func (h *httpAPI) TargetsMetadata(ctx context.Context, matchTarget string, metri
 
 	req, err := http.NewRequest(http.MethodGet, u.String(), nil)
 	if err != nil {
-		return nil, err
+		return nil, api.NewErrorAPI(err, nil)
 	}
 
-	_, body, _, err := h.client.Do(ctx, req)
-	if err != nil {
-		return nil, err
+	_, body, apiErr := h.client.Do(ctx, req)
+	if apiErr != nil {
+		return nil, apiErr
 	}
 
 	var res []MetricMetadata
-	return res, json.Unmarshal(body, &res)
+	err = json.Unmarshal(body, &res)
+	return res, api.NewErrorAPI(err, nil)
 }
 
 // apiClient wraps a regular client and processes successful API responses.
@@ -815,17 +839,19 @@ func errorTypeAndMsgFor(resp *http.Response) (ErrorType, string) {
 	return ErrBadResponse, fmt.Sprintf("bad response code %d", resp.StatusCode)
 }
 
-func (c apiClient) Do(ctx context.Context, req *http.Request) (*http.Response, []byte, api.Warnings, error) {
-	resp, body, warnings, err := c.Client.Do(ctx, req)
-	if err != nil {
-		return resp, body, warnings, err
+func (c apiClient) Do(ctx context.Context, req *http.Request) (*http.Response, []byte, api.Error) {
+	resp, body, apiErr := c.Client.Do(ctx, req)
+	if apiErr != nil {
+		return resp, body, apiErr
 	}
 
 	code := resp.StatusCode
 
+	var err api.Error
+
 	if code/100 != 2 && !apiError(code) {
 		errorType, errorMsg := errorTypeAndMsgFor(resp)
-		return resp, body, warnings, &Error{
+		return resp, body, &Error{
 			Type:   errorType,
 			Msg:    errorMsg,
 			Detail: string(body),
@@ -836,7 +862,7 @@ func (c apiClient) Do(ctx context.Context, req *http.Request) (*http.Response, [
 
 	if http.StatusNoContent != code {
 		if jsonErr := json.Unmarshal(body, &result); jsonErr != nil {
-			return resp, body, warnings, &Error{
+			return resp, body, &Error{
 				Type: ErrBadResponse,
 				Msg:  jsonErr.Error(),
 			}
@@ -845,18 +871,20 @@ func (c apiClient) Do(ctx context.Context, req *http.Request) (*http.Response, [
 
 	if apiError(code) != (result.Status == "error") {
 		err = &Error{
-			Type: ErrBadResponse,
-			Msg:  "inconsistent body for response code",
+			Type:     ErrBadResponse,
+			Msg:      "inconsistent body for response code",
+			warnings: result.Warnings,
 		}
 	}
 
 	if apiError(code) && result.Status == "error" {
 		err = &Error{
-			Type: result.ErrorType,
-			Msg:  result.Error,
+			Type:     result.ErrorType,
+			Msg:      result.Error,
+			warnings: result.Warnings,
 		}
 	}
 
-	return resp, []byte(result.Data), warnings, err
+	return resp, []byte(result.Data), err
 
 }
diff --git a/api/prometheus/v1/api_test.go b/api/prometheus/v1/api_test.go
index 49c90d6..0b8fe2b 100644
--- a/api/prometheus/v1/api_test.go
+++ b/api/prometheus/v1/api_test.go
@@ -33,7 +33,7 @@ import (
 )
 
 type apiTest struct {
-	do           func() (interface{}, api.Warnings, error)
+	do           func() (interface{}, api.Error)
 	inWarnings   []string
 	inErr        error
 	inStatusCode int
@@ -43,7 +43,6 @@ type apiTest struct {
 	reqParam  url.Values
 	reqMethod string
 	res       interface{}
-	warnings  api.Warnings
 	err       error
 }
 
@@ -64,7 +63,7 @@ func (c *apiTestClient) URL(ep string, args map[string]string) *url.URL {
 	return u
 }
 
-func (c *apiTestClient) Do(ctx context.Context, req *http.Request) (*http.Response, []byte, api.Warnings, error) {
+func (c *apiTestClient) Do(ctx context.Context, req *http.Request) (*http.Response, []byte, api.Error) {
 
 	test := c.curTest
 
@@ -89,7 +88,7 @@ func (c *apiTestClient) Do(ctx context.Context, req *http.Request) (*http.Respon
 		resp.StatusCode = http.StatusOK
 	}
 
-	return resp, b, test.inWarnings, test.inErr
+	return resp, b, api.NewErrorAPI(test.inErr, test.inWarnings)
 }
 
 func TestAPIs(t *testing.T) {
@@ -102,90 +101,81 @@ func TestAPIs(t *testing.T) {
 		client: client,
 	}
 
-	doAlertManagers := func() func() (interface{}, api.Warnings, error) {
-		return func() (interface{}, api.Warnings, error) {
-			v, err := promAPI.AlertManagers(context.Background())
-			return v, nil, err
+	doAlertManagers := func() func() (interface{}, api.Error) {
+		return func() (interface{}, api.Error) {
+			return promAPI.AlertManagers(context.Background())
 		}
 	}
 
-	doCleanTombstones := func() func() (interface{}, api.Warnings, error) {
-		return func() (interface{}, api.Warnings, error) {
-			return nil, nil, promAPI.CleanTombstones(context.Background())
+	doCleanTombstones := func() func() (interface{}, api.Error) {
+		return func() (interface{}, api.Error) {
+			return nil, promAPI.CleanTombstones(context.Background())
 		}
 	}
 
-	doConfig := func() func() (interface{}, api.Warnings, error) {
-		return func() (interface{}, api.Warnings, error) {
-			v, err := promAPI.Config(context.Background())
-			return v, nil, err
+	doConfig := func() func() (interface{}, api.Error) {
+		return func() (interface{}, api.Error) {
+			return promAPI.Config(context.Background())
 		}
 	}
 
-	doDeleteSeries := func(matcher string, startTime time.Time, endTime time.Time) func() (interface{}, api.Warnings, error) {
-		return func() (interface{}, api.Warnings, error) {
-			return nil, nil, promAPI.DeleteSeries(context.Background(), []string{matcher}, startTime, endTime)
+	doDeleteSeries := func(matcher string, startTime time.Time, endTime time.Time) func() (interface{}, api.Error) {
+		return func() (interface{}, api.Error) {
+			return nil, promAPI.DeleteSeries(context.Background(), []string{matcher}, startTime, endTime)
 		}
 	}
 
-	doFlags := func() func() (interface{}, api.Warnings, error) {
-		return func() (interface{}, api.Warnings, error) {
-			v, err := promAPI.Flags(context.Background())
-			return v, nil, err
+	doFlags := func() func() (interface{}, api.Error) {
+		return func() (interface{}, api.Error) {
+			return promAPI.Flags(context.Background())
 		}
 	}
 
-	doLabelValues := func(label string) func() (interface{}, api.Warnings, error) {
-		return func() (interface{}, api.Warnings, error) {
-			v, err := promAPI.LabelValues(context.Background(), label)
-			return v, nil, err
+	doLabelValues := func(label string) func() (interface{}, api.Error) {
+		return func() (interface{}, api.Error) {
+			return promAPI.LabelValues(context.Background(), label)
 		}
 	}
 
-	doQuery := func(q string, ts time.Time) func() (interface{}, api.Warnings, error) {
-		return func() (interface{}, api.Warnings, error) {
+	doQuery := func(q string, ts time.Time) func() (interface{}, api.Error) {
+		return func() (interface{}, api.Error) {
 			return promAPI.Query(context.Background(), q, ts)
 		}
 	}
 
-	doQueryRange := func(q string, rng Range) func() (interface{}, api.Warnings, error) {
-		return func() (interface{}, api.Warnings, error) {
+	doQueryRange := func(q string, rng Range) func() (interface{}, api.Error) {
+		return func() (interface{}, api.Error) {
 			return promAPI.QueryRange(context.Background(), q, rng)
 		}
 	}
 
-	doSeries := func(matcher string, startTime time.Time, endTime time.Time) func() (interface{}, api.Warnings, error) {
-		return func() (interface{}, api.Warnings, error) {
-			v, err := promAPI.Series(context.Background(), []string{matcher}, startTime, endTime)
-			return v, nil, err
+	doSeries := func(matcher string, startTime time.Time, endTime time.Time) func() (interface{}, api.Error) {
+		return func() (interface{}, api.Error) {
+			return promAPI.Series(context.Background(), []string{matcher}, startTime, endTime)
 		}
 	}
 
-	doSnapshot := func(skipHead bool) func() (interface{}, api.Warnings, error) {
-		return func() (interface{}, api.Warnings, error) {
-			v, err := promAPI.Snapshot(context.Background(), skipHead)
-			return v, nil, err
+	doSnapshot := func(skipHead bool) func() (interface{}, api.Error) {
+		return func() (interface{}, api.Error) {
+			return promAPI.Snapshot(context.Background(), skipHead)
 		}
 	}
 
-	doRules := func() func() (interface{}, api.Warnings, error) {
-		return func() (interface{}, api.Warnings, error) {
-			v, err := promAPI.Rules(context.Background())
-			return v, nil, err
+	doRules := func() func() (interface{}, api.Error) {
+		return func() (interface{}, api.Error) {
+			return promAPI.Rules(context.Background())
 		}
 	}
 
-	doTargets := func() func() (interface{}, api.Warnings, error) {
-		return func() (interface{}, api.Warnings, error) {
-			v, err := promAPI.Targets(context.Background())
-			return v, nil, err
+	doTargets := func() func() (interface{}, api.Error) {
+		return func() (interface{}, api.Error) {
+			return promAPI.Targets(context.Background())
 		}
 	}
 
-	doTargetsMetadata := func(matchTarget string, metric string, limit string) func() (interface{}, api.Warnings, error) {
-		return func() (interface{}, api.Warnings, error) {
-			v, err := promAPI.TargetsMetadata(context.Background(), matchTarget, metric, limit)
-			return v, nil, err
+	doTargetsMetadata := func(matchTarget string, metric string, limit string) func() (interface{}, api.Error) {
+		return func() (interface{}, api.Error) {
+			return promAPI.TargetsMetadata(context.Background(), matchTarget, metric, limit)
 		}
 	}
 
@@ -259,51 +249,6 @@ func TestAPIs(t *testing.T) {
 			},
 			err: errors.New("client_error: client error: 404"),
 		},
-		// Warning only.
-		{
-			do:         doQuery("2", testTime),
-			inWarnings: []string{"warning"},
-			inRes: &queryResult{
-				Type: model.ValScalar,
-				Result: &model.Scalar{
-					Value:     2,
-					Timestamp: model.TimeFromUnix(testTime.Unix()),
-				},
-			},
-
-			reqMethod: "POST",
-			reqPath:   "/api/v1/query",
-			reqParam: url.Values{
-				"query": []string{"2"},
-				"time":  []string{testTime.Format(time.RFC3339Nano)},
-			},
-			res: &model.Scalar{
-				Value:     2,
-				Timestamp: model.TimeFromUnix(testTime.Unix()),
-			},
-			warnings: []string{"warning"},
-		},
-		// Warning + error.
-		{
-			do:           doQuery("2", testTime),
-			inWarnings:   []string{"warning"},
-			inRes:        "some body",
-			inStatusCode: 404,
-			inErr: &Error{
-				Type:   ErrClient,
-				Msg:    "client error: 404",
-				Detail: "some body",
-			},
-
-			reqMethod: "POST",
-			reqPath:   "/api/v1/query",
-			reqParam: url.Values{
-				"query": []string{"2"},
-				"time":  []string{testTime.Format(time.RFC3339Nano)},
-			},
-			err:      errors.New("client_error: client error: 404"),
-			warnings: []string{"warning"},
-		},
 
 		{
 			do: doQueryRange("2", Range{
@@ -760,11 +705,7 @@ func TestAPIs(t *testing.T) {
 		t.Run(fmt.Sprintf("%d", i), func(t *testing.T) {
 			client.curTest = test
 
-			res, warnings, err := test.do()
-
-			if (test.inWarnings == nil) != (warnings == nil) && !reflect.DeepEqual(test.inWarnings, warnings) {
-				t.Fatalf("mismatch in warnings expected=%v actual=%v", test.inWarnings, warnings)
-			}
+			res, err := test.do()
 
 			if test.err != nil {
 				if err == nil {
@@ -799,18 +740,17 @@ type testClient struct {
 }
 
 type apiClientTest struct {
-	code             int
-	response         interface{}
-	expectedBody     string
-	expectedErr      *Error
-	expectedWarnings api.Warnings
+	code         int
+	response     interface{}
+	expectedBody string
+	expectedErr  *Error
 }
 
 func (c *testClient) URL(ep string, args map[string]string) *url.URL {
 	return nil
 }
 
-func (c *testClient) Do(ctx context.Context, req *http.Request) (*http.Response, []byte, api.Warnings, error) {
+func (c *testClient) Do(ctx context.Context, req *http.Request) (*http.Response, []byte, api.Error) {
 	if ctx == nil {
 		c.Fatalf("context was not passed down")
 	}
@@ -837,7 +777,7 @@ func (c *testClient) Do(ctx context.Context, req *http.Request) (*http.Response,
 		StatusCode: test.code,
 	}
 
-	return resp, b, test.expectedWarnings, nil
+	return resp, b, nil
 }
 
 func TestAPIClientDo(t *testing.T) {
@@ -956,10 +896,10 @@ func TestAPIClientDo(t *testing.T) {
 				Warnings:  []string{"a"},
 			},
 			expectedErr: &Error{
-				Type: ErrBadResponse,
-				Msg:  "inconsistent body for response code",
+				Type:     ErrBadResponse,
+				Msg:      "inconsistent body for response code",
+				warnings: []string{"a"},
 			},
-			expectedWarnings: []string{"a"},
 		},
 	}
 
@@ -975,17 +915,7 @@ func TestAPIClientDo(t *testing.T) {
 
 			tc.ch <- test
 
-			_, body, warnings, err := client.Do(context.Background(), tc.req)
-
-			if test.expectedWarnings != nil {
-				if !reflect.DeepEqual(test.expectedWarnings, warnings) {
-					t.Fatalf("mismatch in warnings expected=%v actual=%v", test.expectedWarnings, warnings)
-				}
-			} else {
-				if warnings != nil {
-					t.Fatalf("unexpexted warnings: %v", warnings)
-				}
-			}
+			_, body, err := client.Do(context.Background(), tc.req)
 
 			if test.expectedErr != nil {
 				if err == nil {
@@ -1003,6 +933,15 @@ func TestAPIClientDo(t *testing.T) {
 					}
 				}
 
+				if len(test.expectedErr.Warnings()) != len(err.Warnings()) {
+					t.Fatalf("expected warnings length :%v, but got:%v", len(test.expectedErr.Warnings()), len(err.Warnings()))
+				}
+
+				for x, warning := range test.expectedErr.Warnings() {
+					if warning != err.Warnings()[x] {
+						t.Fatalf("expected warning :%v, but got:%v", warning, err.Warnings()[x])
+					}
+				}
 				return
 			}
 
