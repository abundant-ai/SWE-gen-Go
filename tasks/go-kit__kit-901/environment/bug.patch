diff --git a/.build.yml b/.build.yml
index f0488dc..558aa06 100644
--- a/.build.yml
+++ b/.build.yml
@@ -1,18 +1,15 @@
 image: debian/stable
-packages:
-    - wget
 sources:
     - https://github.com/go-kit/kit
 tasks:
     - go_toolchain: |
-        go_version="$(wget -q -O- https://golang.org/VERSION?m=text)"
-        wget -q https://dl.google.com/go/$go_version.linux-amd64.tar.gz
-        sudo tar -C /usr/local -xzf $go_version.linux-amd64.tar.gz
+        wget -q https://dl.google.com/go/go1.12.6.linux-amd64.tar.gz
+        sudo tar -C /usr/local -xzf go1.12.6.linux-amd64.tar.gz
         sudo ln -s /usr/local/go/bin/go /usr/bin/go
         go env
     - dependencies: |
-        mkdir -p $(go env GOPATH)/src/github.com/go-kit
-        mv kit $(go env GOPATH)/src/github.com/go-kit
+        mkdir -p $HOME/go/src/github.com/go-kit
+        mv kit $HOME/go/src/github.com/go-kit
         go get -t github.com/go-kit/kit/...
     - test: |
         go test -race -v github.com/go-kit/kit/...
diff --git a/.travis.yml b/.travis.yml
index 4c78f9e..7a26e65 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -12,5 +12,6 @@ script:
   - ./coveralls.bash
 
 go:
-  - 1.x
+  - 1.10.x
+  - 1.11.x
   - tip
diff --git a/auth/casbin/middleware.go b/auth/casbin/middleware.go
index 43f2f9d..fdbf6dc 100644
--- a/auth/casbin/middleware.go
+++ b/auth/casbin/middleware.go
@@ -48,23 +48,17 @@ func NewEnforcer(
 	subject string, object interface{}, action string,
 ) endpoint.Middleware {
 	return func(next endpoint.Endpoint) endpoint.Endpoint {
-		return func(ctx context.Context, request interface{}) (response interface{}, err error) {
+		return func(ctx context.Context, request interface{}) (
+			response interface{}, err error,
+		) {
 			casbinModel := ctx.Value(CasbinModelContextKey)
 			casbinPolicy := ctx.Value(CasbinPolicyContextKey)
-			enforcer, err := stdcasbin.NewEnforcer(casbinModel, casbinPolicy)
-			if err != nil {
-				return nil, err
-			}
 
+			enforcer := stdcasbin.NewEnforcer(casbinModel, casbinPolicy)
 			ctx = context.WithValue(ctx, CasbinEnforcerContextKey, enforcer)
-			ok, err := enforcer.Enforce(subject, object, action)
-			if err != nil {
-				return nil, err
-			}
-			if !ok {
+			if !enforcer.Enforce(subject, object, action) {
 				return nil, ErrUnauthorized
 			}
-
 			return next(ctx, request)
 		}
 	}
diff --git a/auth/casbin/middleware_test.go b/auth/casbin/middleware_test.go
index 9221586..5dbb003 100644
--- a/auth/casbin/middleware_test.go
+++ b/auth/casbin/middleware_test.go
@@ -5,14 +5,13 @@ import (
 	"testing"
 
 	stdcasbin "github.com/casbin/casbin"
-	"github.com/casbin/casbin/model"
 	fileadapter "github.com/casbin/casbin/persist/file-adapter"
 )
 
 func TestStructBaseContext(t *testing.T) {
 	e := func(ctx context.Context, i interface{}) (interface{}, error) { return ctx, nil }
 
-	m := model.NewModel()
+	m := stdcasbin.NewModel()
 	m.AddDef("r", "r", "sub, obj, act")
 	m.AddDef("p", "p", "sub, obj, act")
 	m.AddDef("e", "e", "some(where (p.eft == allow))")
