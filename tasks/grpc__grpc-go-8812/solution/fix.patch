diff --git a/internal/resolver/dns/dns_resolver.go b/internal/resolver/dns/dns_resolver.go
index ada5251c..70b89e4d 100644
--- a/internal/resolver/dns/dns_resolver.go
+++ b/internal/resolver/dns/dns_resolver.go
@@ -125,7 +125,10 @@ func (b *dnsBuilder) Build(target resolver.Target, cc resolver.ClientConn, opts
 	// IP address.
 	if ipAddr, err := formatIP(host); err == nil {
 		addr := []resolver.Address{{Addr: ipAddr + ":" + port}}
-		cc.UpdateState(resolver.State{Addresses: addr})
+		cc.UpdateState(resolver.State{
+			Addresses: addr,
+			Endpoints: []resolver.Endpoint{{Addresses: addr}},
+		})
 		return deadResolver{}, nil
 	}
 
@@ -342,7 +345,15 @@ func (d *dnsResolver) lookup() (*resolver.State, error) {
 		return nil, hostErr
 	}
 
-	state := resolver.State{Addresses: addrs}
+	eps := make([]resolver.Endpoint, 0, len(addrs))
+	for _, addr := range addrs {
+		eps = append(eps, resolver.Endpoint{Addresses: []resolver.Address{addr}})
+	}
+
+	state := resolver.State{
+		Addresses: addrs,
+		Endpoints: eps,
+	}
 	if len(srv) > 0 {
 		state = grpclbstate.Set(state, &grpclbstate.State{BalancerAddresses: srv})
 	}
diff --git a/internal/xds/xdsdepmgr/xds_dependency_manager.go b/internal/xds/xdsdepmgr/xds_dependency_manager.go
index c84b199e..f4d95677 100644
--- a/internal/xds/xdsdepmgr/xds_dependency_manager.go
+++ b/internal/xds/xdsdepmgr/xds_dependency_manager.go
@@ -758,8 +758,8 @@ func (m *DependencyManager) onDNSUpdate(resourceName string, update *resolver.St
 	if m.logger.V(2) {
 		m.logger.Infof("Received update from DNS resolver for resource %q: %+v", resourceName, update)
 	}
-	var endpoints []resolver.Endpoint
-	if len(update.Endpoints) == 0 {
+	endpoints := update.Endpoints
+	if len(endpoints) == 0 {
 		endpoints = make([]resolver.Endpoint, len(update.Addresses))
 		for i, a := range update.Addresses {
 			endpoints[i] = resolver.Endpoint{Addresses: []resolver.Address{a}}
